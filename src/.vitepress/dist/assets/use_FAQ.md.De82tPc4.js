import{_ as r,C as k,c as E,o as g,j as i,G as n,ar as d,a,w as t}from"./chunks/framework.DwOsETNj.js";const q=JSON.parse('{"title":"MaiCore Start å¸¸è§é—®é¢˜è§£ç­” (FAQ)","description":"","frontmatter":{},"headers":[],"relativePath":"use/FAQ.md","filePath":"use/FAQ.md","lastUpdated":1767174044000}'),o={name:"use/FAQ.md"};function y(F,s,u,c,C,b){const p=k("NolebasePageProperties"),h=k("VPNolebaseInlineLinkPreview"),l=k("NCard"),e=k("NolebaseGitChangelog");return g(),E("div",null,[s[28]||(s[28]=i("h1",{id:"maicore-start-å¸¸è§é—®é¢˜è§£ç­”-faq",tabindex:"-1"},[a("MaiCore Start å¸¸è§é—®é¢˜è§£ç­” (FAQ) "),i("a",{class:"header-anchor",href:"#maicore-start-å¸¸è§é—®é¢˜è§£ç­”-faq","aria-label":'Permalink to "MaiCore Start å¸¸è§é—®é¢˜è§£ç­” (FAQ)"'},"â€‹")],-1)),n(p),s[29]||(s[29]=i("blockquote",null,[i("p",null,[i("strong",null,"MaiCore Start å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ")])],-1)),s[30]||(s[30]=i("div",{class:"tip custom-block"},[i("p",{class:"custom-block-title"},"æ¸©é¦¨æç¤º"),i("p",null,"æœ¬FAQæ–‡æ¡£æ±‡æ€»äº†ç”¨æˆ·åœ¨ä½¿ç”¨ MaiCore Start è¿‡ç¨‹ä¸­æœ€å¸¸é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚å¦‚æœæ–‡æ¡£ä¸­å‘ç°é”™è¯¯ï¼Œæˆ–æ‚¨æƒ³æäº¤æ–‡æ¡£ä¿®æ”¹ã€ä¸°å¯Œæœ¬ç«™æ–‡æ¡£ï¼Œå¯ç‚¹å‡»é¡µé¢åº•éƒ¨çš„ç¼–è¾‘æŒ‰é’®ã€‚")],-1)),s[31]||(s[31]=i("h1",{id:"ğŸ“‹-ç›®å½•",tabindex:"-1"},[a("ğŸ“‹ ç›®å½• "),i("a",{class:"header-anchor",href:"#ğŸ“‹-ç›®å½•","aria-label":'Permalink to "ğŸ“‹ ç›®å½•"'},"â€‹")],-1)),i("ul",null,[i("li",null,[n(h,{href:"#å¯åŠ¨ç›¸å…³é—®é¢˜"},{default:t(()=>[...s[0]||(s[0]=[a("å¯åŠ¨ç›¸å…³é—®é¢˜",-1)])]),_:1}),i("ul",null,[i("li",null,[n(h,{href:"#é…ç½®éªŒè¯å¤±è´¥-"},{default:t(()=>[...s[1]||(s[1]=[a("é…ç½®éªŒè¯å¤±è´¥",-1)])]),_:1})]),i("li",null,[n(h,{href:"#ç«¯å£å†²çª-"},{default:t(()=>[...s[2]||(s[2]=[a("ç«¯å£å†²çª",-1)])]),_:1})]),i("li",null,[n(h,{href:"#ç»„ä»¶å¯åŠ¨å¤±è´¥-"},{default:t(()=>[...s[3]||(s[3]=[a("ç»„ä»¶å¯åŠ¨å¤±è´¥",-1)])]),_:1})]),i("li",null,[n(h,{href:"#è¿›ç¨‹ç®¡ç†é—®é¢˜-"},{default:t(()=>[...s[4]||(s[4]=[a("è¿›ç¨‹ç®¡ç†é—®é¢˜",-1)])]),_:1})]),i("li",null,[n(h,{href:"#é…ç½®æ–‡ä»¶æŸå-"},{default:t(()=>[...s[5]||(s[5]=[a("é…ç½®æ–‡ä»¶æŸå",-1)])]),_:1})]),i("li",null,[n(h,{href:"#ç«¯å£ç®¡ç†å™¨å¼‚å¸¸-"},{default:t(()=>[...s[6]||(s[6]=[a("ç«¯å£ç®¡ç†å™¨å¼‚å¸¸",-1)])]),_:1})]),i("li",null,[n(h,{href:"#å¤šå¼€å®ä¾‹å†²çª-"},{default:t(()=>[...s[7]||(s[7]=[a("å¤šå¼€å®ä¾‹å†²çª",-1)])]),_:1})])])]),i("li",null,[n(h,{href:"#éƒ¨ç½²ç›¸å…³é—®é¢˜"},{default:t(()=>[...s[8]||(s[8]=[a("éƒ¨ç½²ç›¸å…³é—®é¢˜",-1)])]),_:1}),i("ul",null,[i("li",null,[n(h,{href:"#ç½‘ç»œè¿æ¥é—®é¢˜"},{default:t(()=>[...s[9]||(s[9]=[a("ç½‘ç»œè¿æ¥é—®é¢˜",-1)])]),_:1}),i("ul",null,[i("li",null,[n(h,{href:"#é—®é¢˜-1-github-api-é™åˆ¶"},{default:t(()=>[...s[10]||(s[10]=[a("GitHub API é™åˆ¶",-1)])]),_:1})]),i("li",null,[n(h,{href:"#é—®é¢˜-2-æ–‡ä»¶ä¸‹è½½å¤±è´¥"},{default:t(()=>[...s[11]||(s[11]=[a("æ–‡ä»¶ä¸‹è½½å¤±è´¥",-1)])]),_:1})])])]),i("li",null,[n(h,{href:"#ä¾èµ–å®‰è£…é—®é¢˜"},{default:t(()=>[...s[12]||(s[12]=[a("ä¾èµ–å®‰è£…é—®é¢˜",-1)])]),_:1}),i("ul",null,[i("li",null,[n(h,{href:"#é—®é¢˜-3-python-è™šæ‹Ÿç¯å¢ƒåˆ›å»ºå¤±è´¥"},{default:t(()=>[...s[13]||(s[13]=[a("Python è™šæ‹Ÿç¯å¢ƒåˆ›å»ºå¤±è´¥",-1)])]),_:1})]),i("li",null,[n(h,{href:"#é—®é¢˜-4-ä¾èµ–åŒ…å®‰è£…å¤±è´¥"},{default:t(()=>[...s[14]||(s[14]=[a("ä¾èµ–åŒ…å®‰è£…å¤±è´¥",-1)])]),_:1})])])]),i("li",null,[n(h,{href:"#ç«¯å£å†²çªé—®é¢˜"},{default:t(()=>[...s[15]||(s[15]=[a("ç«¯å£å†²çªé—®é¢˜",-1)])]),_:1}),i("ul",null,[i("li",null,[n(h,{href:"#é—®é¢˜-5-ç«¯å£å ç”¨"},{default:t(()=>[...s[16]||(s[16]=[a("ç«¯å£å ç”¨",-1)])]),_:1})])])]),i("li",null,[n(h,{href:"#é…ç½®æ–‡ä»¶é—®é¢˜"},{default:t(()=>[...s[17]||(s[17]=[a("é…ç½®æ–‡ä»¶é—®é¢˜",-1)])]),_:1}),i("ul",null,[i("li",null,[n(h,{href:"#é—®é¢˜-6-é…ç½®æ–‡ä»¶ç”Ÿæˆå¤±è´¥"},{default:t(()=>[...s[18]||(s[18]=[a("é…ç½®æ–‡ä»¶ç”Ÿæˆå¤±è´¥",-1)])]),_:1})])])]),i("li",null,[n(h,{href:"#è¿è¡Œå¯åŠ¨é—®é¢˜"},{default:t(()=>[...s[19]||(s[19]=[a("è¿è¡Œå¯åŠ¨é—®é¢˜",-1)])]),_:1}),i("ul",null,[i("li",null,[n(h,{href:"#é—®é¢˜-7-bot-å¯åŠ¨å¤±è´¥"},{default:t(()=>[...s[20]||(s[20]=[a("Bot å¯åŠ¨å¤±è´¥",-1)])]),_:1})]),i("li",null,[n(h,{href:"#é—®é¢˜-8-qq-ç™»å½•å¤±è´¥"},{default:t(()=>[...s[21]||(s[21]=[a("QQ ç™»å½•å¤±è´¥",-1)])]),_:1})])])])])])]),s[32]||(s[32]=d(`<h2 id="å¯åŠ¨ç›¸å…³é—®é¢˜" tabindex="-1">å¯åŠ¨ç›¸å…³é—®é¢˜ <a class="header-anchor" href="#å¯åŠ¨ç›¸å…³é—®é¢˜" aria-label="Permalink to &quot;å¯åŠ¨ç›¸å…³é—®é¢˜&quot;">â€‹</a></h2><h3 id="é…ç½®éªŒè¯å¤±è´¥-âŒ" tabindex="-1">é…ç½®éªŒè¯å¤±è´¥ âŒ <a class="header-anchor" href="#é…ç½®éªŒè¯å¤±è´¥-âŒ" aria-label="Permalink to &quot;é…ç½®éªŒè¯å¤±è´¥ âŒ&quot;">â€‹</a></h3><p><strong>é—®é¢˜</strong>: é…ç½®éªŒè¯æ˜¾ç¤ºé”™è¯¯</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>âŒ é…ç½®éªŒè¯å¤±è´¥ï¼š</span></span>
<span class="line"><span>  â€¢ éº¦éº¦æœ¬ä½“è·¯å¾„: è·¯å¾„ä¸å­˜åœ¨æˆ–ç¼ºå°‘bot.pyæ–‡ä»¶</span></span>
<span class="line"><span>  â€¢ é€‚é…å™¨è·¯å¾„: è·¯å¾„ä¸å­˜åœ¨æˆ–ç¼ºå°‘main.pyæ–‡ä»¶</span></span>
<span class="line"><span>  â€¢ NapCatè·¯å¾„: æ— æ•ˆæˆ–æ–‡ä»¶ä¸å­˜åœ¨</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>æ£€æŸ¥è·¯å¾„</strong>: ç¡®è®¤æ‰€æœ‰è·¯å¾„æ­£ç¡®ä¸”æ–‡ä»¶å­˜åœ¨</li><li><strong>é‡æ–°é…ç½®</strong>: ä½¿ç”¨é…ç½®ç®¡ç†åŠŸèƒ½æ›´æ–°è·¯å¾„</li><li><strong>é‡æ–°éƒ¨ç½²</strong>: å¦‚æœè·¯å¾„ç¡®å®æ”¹å˜ï¼Œé‡æ–°éƒ¨ç½²å®ä¾‹</li></ol><h3 id="ç«¯å£å†²çª-ğŸš«" tabindex="-1">ç«¯å£å†²çª ğŸš« <a class="header-anchor" href="#ç«¯å£å†²çª-ğŸš«" aria-label="Permalink to &quot;ç«¯å£å†²çª ğŸš«&quot;">â€‹</a></h3><p><strong>é—®é¢˜</strong>: ç«¯å£è¢«å ç”¨</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>âŒ ç«¯å£ 8000 å·²è¢«å ç”¨</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>æ£€æŸ¥å ç”¨è¿›ç¨‹</strong>: ä½¿ç”¨ <code>netstat -ano | findstr :8000</code></li><li><strong>åœæ­¢å†²çªè¿›ç¨‹</strong>: ç»“æŸå ç”¨ç«¯å£çš„è¿›ç¨‹</li><li><strong>ä½¿ç”¨å¤šå¼€åŠŸèƒ½</strong>: åˆ›å»ºæ–°å®ä¾‹è‡ªåŠ¨åˆ†é…å…¶ä»–ç«¯å£</li></ol><h3 id="ç»„ä»¶å¯åŠ¨å¤±è´¥-âš ï¸" tabindex="-1">ç»„ä»¶å¯åŠ¨å¤±è´¥ âš ï¸ <a class="header-anchor" href="#ç»„ä»¶å¯åŠ¨å¤±è´¥-âš ï¸" aria-label="Permalink to &quot;ç»„ä»¶å¯åŠ¨å¤±è´¥ âš ï¸&quot;">â€‹</a></h3><p><strong>é—®é¢˜</strong>: æŸä¸ªç»„ä»¶å¯åŠ¨å¤±è´¥</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>âš ï¸ é€‚é…å™¨å¯åŠ¨å¤±è´¥</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>æ£€æŸ¥ä¾èµ–</strong>: ç¡®è®¤ Python ç¯å¢ƒå’Œä¾èµ–åŒ…</li><li><strong>æ£€æŸ¥é…ç½®</strong>: éªŒè¯é…ç½®æ–‡ä»¶æ­£ç¡®æ€§</li><li><strong>æŸ¥çœ‹æ—¥å¿—</strong>: æ£€æŸ¥ç»„ä»¶æ—¥å¿—æ–‡ä»¶</li><li><strong>é‡æ–°å®‰è£…</strong>: å¿…è¦æ—¶é‡æ–°å®‰è£…ç»„ä»¶</li></ol><h3 id="è¿›ç¨‹ç®¡ç†é—®é¢˜-ğŸ”„" tabindex="-1">è¿›ç¨‹ç®¡ç†é—®é¢˜ ğŸ”„ <a class="header-anchor" href="#è¿›ç¨‹ç®¡ç†é—®é¢˜-ğŸ”„" aria-label="Permalink to &quot;è¿›ç¨‹ç®¡ç†é—®é¢˜ ğŸ”„&quot;">â€‹</a></h3><p><strong>é—®é¢˜</strong>: è¿›ç¨‹æ— æ³•åœæ­¢</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>âŒ åœæ­¢è¿›ç¨‹å¤±è´¥</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨</strong>: æ‰‹åŠ¨ç»“æŸè¿›ç¨‹</li><li><strong>é‡å¯ç¨‹åº</strong>: é‡å¯ MaiCore Start</li><li><strong>å¼ºåˆ¶ç»ˆæ­¢</strong>: ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨å¼ºåˆ¶ç»“æŸ</li></ol><h3 id="é…ç½®æ–‡ä»¶æŸå-ğŸ—‚ï¸" tabindex="-1">é…ç½®æ–‡ä»¶æŸå ğŸ—‚ï¸ <a class="header-anchor" href="#é…ç½®æ–‡ä»¶æŸå-ğŸ—‚ï¸" aria-label="Permalink to &quot;é…ç½®æ–‡ä»¶æŸå ğŸ—‚ï¸&quot;">â€‹</a></h3><p><strong>æ£€æµ‹</strong>: ç¨‹åºå¯åŠ¨æ—¶æç¤ºé…ç½®æŸå</p><p><strong>ä¿®å¤</strong>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç¨‹åºä¼šè‡ªåŠ¨ä¿®å¤æŸåçš„é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _validate_and_repair_serials</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;éªŒè¯å¹¶ä¿®å¤ç»å¯¹åºåˆ—å·&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    repaired </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # é‡æ–°åˆ†é…åºåˆ—å·</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i, (name, config) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> enumerate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config_items):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.config[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;configurations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][name][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;absolute_serial_number&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> repaired</span></span></code></pre></div><h3 id="ç«¯å£ç®¡ç†å™¨å¼‚å¸¸-ğŸ”Œ" tabindex="-1">ç«¯å£ç®¡ç†å™¨å¼‚å¸¸ ğŸ”Œ <a class="header-anchor" href="#ç«¯å£ç®¡ç†å™¨å¼‚å¸¸-ğŸ”Œ" aria-label="Permalink to &quot;ç«¯å£ç®¡ç†å™¨å¼‚å¸¸ ğŸ”Œ&quot;">â€‹</a></h3><p><strong>æ£€æµ‹</strong>: ç«¯å£åˆ†é…å¤±è´¥</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>é‡å¯ç«¯å£ç®¡ç†å™¨</strong>: é‡å¯ç¨‹åºé‡ç½®ç«¯å£çŠ¶æ€</li><li><strong>æ‰‹åŠ¨é‡Šæ”¾ç«¯å£</strong>: ç»“æŸå ç”¨ç«¯å£çš„è¿›ç¨‹</li><li><strong>æ‰©å±•ç«¯å£èŒƒå›´</strong>: ä¿®æ”¹ç«¯å£èŒƒå›´é…ç½®</li></ol><h3 id="å¤šå¼€å®ä¾‹å†²çª-ğŸ”€" tabindex="-1">å¤šå¼€å®ä¾‹å†²çª ğŸ”€ <a class="header-anchor" href="#å¤šå¼€å®ä¾‹å†²çª-ğŸ”€" aria-label="Permalink to &quot;å¤šå¼€å®ä¾‹å†²çª ğŸ”€&quot;">â€‹</a></h3><p><strong>æ£€æµ‹</strong>: å¤šå¼€å®ä¾‹æ— æ³•å¯åŠ¨</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>æ£€æŸ¥ç«¯å£åˆ†é…</strong>: ç¡®è®¤ç«¯å£åˆ†é…æ­£ç¡®</li><li><strong>éªŒè¯é…ç½®ç»§æ‰¿</strong>: æ£€æŸ¥åŸºç¡€é…ç½®æ˜¯å¦æœ‰æ•ˆ</li><li><strong>æ¸…ç†å®ä¾‹çŠ¶æ€</strong>: åˆ é™¤å¹¶é‡æ–°åˆ›å»ºå®ä¾‹</li></ol><hr><h1 id="éƒ¨ç½²ç›¸å…³é—®é¢˜" tabindex="-1">éƒ¨ç½²ç›¸å…³é—®é¢˜ <a class="header-anchor" href="#éƒ¨ç½²ç›¸å…³é—®é¢˜" aria-label="Permalink to &quot;éƒ¨ç½²ç›¸å…³é—®é¢˜&quot;">â€‹</a></h1><h2 id="ç½‘ç»œè¿æ¥é—®é¢˜" tabindex="-1">ç½‘ç»œè¿æ¥é—®é¢˜ <a class="header-anchor" href="#ç½‘ç»œè¿æ¥é—®é¢˜" aria-label="Permalink to &quot;ç½‘ç»œè¿æ¥é—®é¢˜&quot;">â€‹</a></h2><h3 id="é—®é¢˜-1-github-api-é™åˆ¶" tabindex="-1">é—®é¢˜ 1: GitHub API é™åˆ¶ <a class="header-anchor" href="#é—®é¢˜-1-github-api-é™åˆ¶" aria-label="Permalink to &quot;é—®é¢˜ 1: GitHub API é™åˆ¶&quot;">â€‹</a></h3><p><strong>ç—‡çŠ¶</strong>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ç½‘ç»œè¿æ¥å¤±è´¥:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> æ— æ³•è¿æ¥åˆ°GitHubå’ŒPyPIé•œåƒç«™ç‚¹</span></span></code></pre></div><p><strong>æŠ€æœ¯åˆ†æ</strong>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> check_network_connection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self) -&gt; Tuple[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;ç½‘ç»œè¿æ¥æ£€æŸ¥å®ç°&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    endpoints </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.github.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GitHub API&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://github.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GitHub&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://pypi.tuna.tsinghua.edu.cn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ¸…åPyPIé•œåƒ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url, name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> endpoints:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            response </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requests.get(url, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">timeout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.status_code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">301</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">302</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        except</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Exception</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            continue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ— æ³•è¿æ¥åˆ°GitHubå’ŒPyPIé•œåƒç«™ç‚¹&quot;</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">ç½‘ç»œé—®é¢˜å¤„ç†</p><p>å¦‚æœç½‘ç»œæ£€æŸ¥å¤±è´¥ï¼Œç³»ç»Ÿæä¾›ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š</p><ol><li><strong>ç­‰å¾…é‡è¯•</strong>: GitHub API é€Ÿç‡é™åˆ¶é€šå¸¸åœ¨ å‡ ç§’å†…æ¢å¤</li><li><strong>ä»£ç†é…ç½®</strong>: é…ç½®ä»£ç†æˆ–ä½¿ç”¨æ‰‹æœºçƒ­ç‚¹</li><li><strong>ç¦»çº¿æ¨¡å¼</strong>: ä½¿ç”¨æœ¬åœ°ç¼“å­˜ç»§ç»­éƒ¨ç½²</li></ol></div><h3 id="é—®é¢˜-2-æ–‡ä»¶ä¸‹è½½å¤±è´¥" tabindex="-1">é—®é¢˜ 2: æ–‡ä»¶ä¸‹è½½å¤±è´¥ <a class="header-anchor" href="#é—®é¢˜-2-æ–‡ä»¶ä¸‹è½½å¤±è´¥" aria-label="Permalink to &quot;é—®é¢˜ 2: æ–‡ä»¶ä¸‹è½½å¤±è´¥&quot;">â€‹</a></h3><p><strong>ç—‡çŠ¶</strong>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ä¸‹è½½å¤±è´¥ï¼ˆå·²é‡è¯•3æ¬¡ï¼‰:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Connection</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> timeout</span></span></code></pre></div><p><strong>é‡è¯•æœºåˆ¶å®ç°</strong>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> download_file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, url: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, filename: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, max_retries: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;å¸¦é‡è¯•æœºåˆ¶çš„æ–‡ä»¶ä¸‹è½½&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> attempt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(max_retries):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            response </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requests.get(url, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">stream</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">timeout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            response.raise_for_status()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # ä½¿ç”¨Richè¿›åº¦æ¡æ˜¾ç¤ºä¸‹è½½è¿›åº¦</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Progress(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> progress:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                task </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> progress.add_task(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ä¸‹è½½ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file_basename</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">total</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">total_size)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> chunk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.iter_content(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">chunk_size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8192</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> chunk:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        f.write(chunk)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        progress.update(task, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">advance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(chunk))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        except</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requests.RequestException </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> attempt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> max_retries </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                time.sleep(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŒ‡æ•°é€€é¿</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                continue</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span></code></pre></div><h2 id="ä¾èµ–å®‰è£…é—®é¢˜" tabindex="-1">ä¾èµ–å®‰è£…é—®é¢˜ <a class="header-anchor" href="#ä¾èµ–å®‰è£…é—®é¢˜" aria-label="Permalink to &quot;ä¾èµ–å®‰è£…é—®é¢˜&quot;">â€‹</a></h2><h3 id="é—®é¢˜-3-python-è™šæ‹Ÿç¯å¢ƒåˆ›å»ºå¤±è´¥" tabindex="-1">é—®é¢˜ 3: Python è™šæ‹Ÿç¯å¢ƒåˆ›å»ºå¤±è´¥ <a class="header-anchor" href="#é—®é¢˜-3-python-è™šæ‹Ÿç¯å¢ƒåˆ›å»ºå¤±è´¥" aria-label="Permalink to &quot;é—®é¢˜ 3: Python è™šæ‹Ÿç¯å¢ƒåˆ›å»ºå¤±è´¥&quot;">â€‹</a></h3><p><strong>ç—‡çŠ¶</strong>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">è™šæ‹Ÿç¯å¢ƒåˆ›å»ºå¤±è´¥:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Pythonè§£é‡Šå™¨æœªæ‰¾åˆ°</span></span></code></pre></div><p><strong>è™šæ‹Ÿç¯å¢ƒç®¡ç†</strong>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> create_virtual_environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, target_dir: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; Tuple[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒ&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    venv_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.join(target_dir, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;venv&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.exists(venv_path):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        shutil.rmtree(venv_path)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ¸…ç†æ—§ç¯å¢ƒ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    venv.create(venv_path, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">with_pip</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # éªŒè¯è™šæ‹Ÿç¯å¢ƒ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> platform.system() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Windows&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        python_exe </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.join(venv_path, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;python.exe&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        python_exe </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.join(venv_path, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;python&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.exists(python_exe):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        raise</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Exception</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è™šæ‹Ÿç¯å¢ƒPythonè§£é‡Šå™¨æœªæ‰¾åˆ°&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, venv_path</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>Python ç¯å¢ƒæ£€æŸ¥</strong>: ç¡®ä¿ Python 3.8+ å·²å®‰è£…å¹¶æ·»åŠ åˆ° PATH</li><li><strong>æƒé™é—®é¢˜</strong>: ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œç¨‹åº</li><li><strong>è·¯å¾„é—®é¢˜</strong>: é€‰æ‹©ç”¨æˆ·ç›®å½•ä½œä¸ºå®‰è£…è·¯å¾„</li></ol><h3 id="é—®é¢˜-4-ä¾èµ–åŒ…å®‰è£…å¤±è´¥" tabindex="-1">é—®é¢˜ 4: ä¾èµ–åŒ…å®‰è£…å¤±è´¥ <a class="header-anchor" href="#é—®é¢˜-4-ä¾èµ–åŒ…å®‰è£…å¤±è´¥" aria-label="Permalink to &quot;é—®é¢˜ 4: ä¾èµ–åŒ…å®‰è£…å¤±è´¥&quot;">â€‹</a></h3><p><strong>ç—‡çŠ¶</strong>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ERROR:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Could</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> that</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> satisfies</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirement</span></span></code></pre></div><p><strong>å¤šé•œåƒæºç­–ç•¥</strong>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pypi_mirrors </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;https://pypi.tuna.tsinghua.edu.cn/simple&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;https://pypi.org/simple&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;https://mirrors.aliyun.com/pypi/simple&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;https://pypi.douban.com/simple&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> install_dependencies_in_venv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, venv_path: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, requirements_path: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;å¤šé•œåƒæºä¾èµ–å®‰è£…&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i, mirror </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> enumerate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pypi_mirrors, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        cmd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            pip_exe, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;install&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;-r&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, requirements_path,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;-i&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, mirror</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> run_command_with_output(cmd, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ä½¿ç”¨é•œåƒæº</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">å®‰è£…ä¾èµ–&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # æ‰€æœ‰é•œåƒæºéƒ½å¤±è´¥</span></span></code></pre></div><h2 id="ç«¯å£å†²çªé—®é¢˜" tabindex="-1">ç«¯å£å†²çªé—®é¢˜ <a class="header-anchor" href="#ç«¯å£å†²çªé—®é¢˜" aria-label="Permalink to &quot;ç«¯å£å†²çªé—®é¢˜&quot;">â€‹</a></h2><h3 id="é—®é¢˜-5-ç«¯å£å ç”¨" tabindex="-1">é—®é¢˜ 5: ç«¯å£å ç”¨ <a class="header-anchor" href="#é—®é¢˜-5-ç«¯å£å ç”¨" aria-label="Permalink to &quot;é—®é¢˜ 5: ç«¯å£å ç”¨&quot;">â€‹</a></h3><p><strong>ç—‡çŠ¶</strong>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ç«¯å£</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> å·²è¢«å ç”¨</span></span></code></pre></div><p><strong>ç«¯å£å†²çªæ£€æµ‹</strong>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> is_port_available</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, port: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;æ£€æŸ¥ç«¯å£æ˜¯å¦å¯ç”¨&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RESERVED_PORTS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ä½¿ç”¨socketæ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> socket.socket(socket.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AF_INET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, socket.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SOCK_STREAM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sock:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            sock.settimeout(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sock.connect_ex((</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;localhost&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, port))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    except</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Exception</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> find_available_port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, port_type: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, base_port: Optional[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;æŸ¥æ‰¾å¯ç”¨ç«¯å£&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    start_port, _ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">COMMON_PORTS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[port_type]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    search_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">or</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> start_port</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # å°è¯•ä»åŸºç¡€ç«¯å£å¼€å§‹æŸ¥æ‰¾</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> offset </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        test_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> search_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> offset</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.is_port_available(test_port):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> test_port</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # æ‰©å±•æœç´¢èŒƒå›´</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">65535</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.is_port_available(port):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> port</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    raise</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> RuntimeError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ— æ³•æ‰¾åˆ°å¯ç”¨ç«¯å£&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>è‡ªåŠ¨é‡è¯•</strong>: ç³»ç»Ÿä¼šè‡ªåŠ¨å¯»æ‰¾ä¸‹ä¸€ä¸ªå¯ç”¨ç«¯å£</li><li><strong>æ‰‹åŠ¨é‡Šæ”¾</strong>: ç»“æŸå ç”¨ç«¯å£çš„è¿›ç¨‹</li><li><strong>ç«¯å£é…ç½®</strong>: ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£è®¾ç½®</li></ol><h2 id="é…ç½®æ–‡ä»¶é—®é¢˜" tabindex="-1">é…ç½®æ–‡ä»¶é—®é¢˜ <a class="header-anchor" href="#é…ç½®æ–‡ä»¶é—®é¢˜" aria-label="Permalink to &quot;é…ç½®æ–‡ä»¶é—®é¢˜&quot;">â€‹</a></h2><h3 id="é—®é¢˜-6-é…ç½®æ–‡ä»¶ç”Ÿæˆå¤±è´¥" tabindex="-1">é—®é¢˜ 6: é…ç½®æ–‡ä»¶ç”Ÿæˆå¤±è´¥ <a class="header-anchor" href="#é—®é¢˜-6-é…ç½®æ–‡ä»¶ç”Ÿæˆå¤±è´¥" aria-label="Permalink to &quot;é—®é¢˜ 6: é…ç½®æ–‡ä»¶ç”Ÿæˆå¤±è´¥&quot;">â€‹</a></h3><p><strong>ç—‡çŠ¶</strong>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">é…ç½®æ–‡ä»¶è®¾ç½®å¤±è´¥:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> æ¨¡æ¿æ–‡ä»¶ä¸å­˜åœ¨</span></span></code></pre></div><p><strong>é…ç½®æ–‡ä»¶ç”Ÿæˆå™¨</strong>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup_config_files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, deploy_config: Dict, bot_path: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                      adapter_path: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, napcat_path: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                      mongodb_path: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, webui_path: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;è®¾ç½®é…ç½®æ–‡ä»¶&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        config_dir </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.join(bot_path, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;config&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        template_dir </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.join(bot_path, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;template&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        bot_config_template </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.join(template_dir, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bot_config_template.toml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        bot_config_target </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.join(config_dir, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bot_config.toml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.exists(bot_config_template):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            shutil.copy2(bot_config_template, bot_config_target)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            logger.warning(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æœªæ‰¾åˆ°æ¨¡æ¿æ–‡ä»¶: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot_config_template</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    except</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Exception</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        logger.error(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;é…ç½®æ–‡ä»¶è®¾ç½®å¤±è´¥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>æ¨¡æ¿æ£€æŸ¥</strong>: ç¡®è®¤ template ç›®å½•å’Œæ¨¡æ¿æ–‡ä»¶å­˜åœ¨</li><li><strong>æƒé™æ£€æŸ¥</strong>: ç¡®ä¿æœ‰å†™å…¥é…ç½®ç›®å½•çš„æƒé™</li><li><strong>æ‰‹åŠ¨é…ç½®</strong>: å¤åˆ¶æ¨¡æ¿æ–‡ä»¶å¹¶æ‰‹åŠ¨ä¿®æ”¹</li></ol><h2 id="è¿è¡Œå¯åŠ¨é—®é¢˜" tabindex="-1">è¿è¡Œå¯åŠ¨é—®é¢˜ <a class="header-anchor" href="#è¿è¡Œå¯åŠ¨é—®é¢˜" aria-label="Permalink to &quot;è¿è¡Œå¯åŠ¨é—®é¢˜&quot;">â€‹</a></h2><h3 id="é—®é¢˜-7-bot-å¯åŠ¨å¤±è´¥" tabindex="-1">é—®é¢˜ 7: Bot å¯åŠ¨å¤±è´¥ <a class="header-anchor" href="#é—®é¢˜-7-bot-å¯åŠ¨å¤±è´¥" aria-label="Permalink to &quot;é—®é¢˜ 7: Bot å¯åŠ¨å¤±è´¥&quot;">â€‹</a></h3><p><strong>ç—‡çŠ¶</strong>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Bot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> å¯åŠ¨å¤±è´¥ï¼šæ¨¡å—å¯¼å…¥é”™è¯¯</span></span></code></pre></div><p><strong>å¯åŠ¨éªŒè¯æœºåˆ¶</strong>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> validate_configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, config: Dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any]) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;éªŒè¯é…ç½®çš„æœ‰æ•ˆæ€§&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    errors </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # éªŒè¯Botè·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bot_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bot_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MaiBot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bot_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;MoFox_bot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        mai_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mofox_path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        mai_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mai_path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    valid, msg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> validate_path(mai_path, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">check_file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bot.py&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> valid:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        errors.append(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Botè·¯å¾„: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">msg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # éªŒè¯è™šæ‹Ÿç¯å¢ƒ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    venv_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;venv_path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> venv_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">and</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.exists(venv_path):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        errors.append(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è™šæ‹Ÿç¯å¢ƒè·¯å¾„ä¸å­˜åœ¨&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> errors</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>ä¾èµ–æ£€æŸ¥</strong>: ç¡®è®¤æ‰€æœ‰ä¾èµ–åŒ…å·²æ­£ç¡®å®‰è£…</li><li><strong>ç¯å¢ƒæ£€æŸ¥</strong>: éªŒè¯è™šæ‹Ÿç¯å¢ƒå’Œ Python è·¯å¾„</li><li><strong>é…ç½®æ£€æŸ¥</strong>: ç¡®è®¤æ‰€æœ‰é…ç½®æ–‡ä»¶æ­£ç¡®</li></ol><h3 id="é—®é¢˜-8-qq-ç™»å½•å¤±è´¥" tabindex="-1">é—®é¢˜ 8: QQ ç™»å½•å¤±è´¥ <a class="header-anchor" href="#é—®é¢˜-8-qq-ç™»å½•å¤±è´¥" aria-label="Permalink to &quot;é—®é¢˜ 8: QQ ç™»å½•å¤±è´¥&quot;">â€‹</a></h3><p><strong>ç—‡çŠ¶</strong>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">QQ</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ç™»å½•å¤±è´¥ï¼šè®¾å¤‡éªŒè¯</span></span></code></pre></div><p><strong>NapCat è¿æ¥è¯Šæ–­</strong>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> check_napcat_connection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, napcat_path: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;æ£€æŸ¥NapCatè¿æ¥çŠ¶æ€&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # æ£€æŸ¥NapCatè¿›ç¨‹æ˜¯å¦è¿è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> check_process(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NapCatWinBootMain.exe&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # å°è¯•è¿æ¥WebSocket</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> websocket</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ws </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> websocket.create_connection(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ws://127.0.0.1:8090&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ws.close()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    except</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Exception</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        logger.warning(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NapCatè¿æ¥æ£€æŸ¥å¤±è´¥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>è´¦å·å®‰å…¨</strong>: ä½¿ç”¨ä¸“é—¨çš„ QQ å°å·é¿å…ä¸»è´¦å·é£é™©</li><li><strong>è®¾å¤‡éªŒè¯</strong>: æŒ‰ç…§ NapCat æç¤ºå®Œæˆè®¾å¤‡éªŒè¯</li><li><strong>ç‰ˆæœ¬æ›´æ–°</strong>: æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬çš„ NapCat</li><li><strong>ç½‘ç»œæ£€æŸ¥</strong>: ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š</li></ol><hr>`,92)),n(l,{title:"ğŸ“˜ æŸ¥çœ‹å¯åŠ¨æ–‡æ¡£",link:"./startup.html"},{default:t(()=>[...s[22]||(s[22]=[a(" äº†è§£æ›´å¤šå…³äº MaiCore Start å¯åŠ¨ç³»ç»Ÿçš„è¯¦ç»†ä¿¡æ¯ ",-1)])]),_:1}),n(l,{title:"ğŸ“˜ æŸ¥çœ‹éƒ¨ç½²æ–‡æ¡£",link:"./deployment.html"},{default:t(()=>[...s[23]||(s[23]=[a(" æŸ¥çœ‹å®Œæ•´çš„ MaiCore Start éƒ¨ç½²æ•™ç¨‹ ",-1)])]),_:1}),n(l,{title:"ğŸ› æäº¤é—®é¢˜åé¦ˆ",link:"https://github.com/MaiCore-Start/MaiCore-Start/issues"},{default:t(()=>[...s[24]||(s[24]=[a(" å¦‚æœæ‚¨é‡åˆ°çš„é—®é¢˜æœªåœ¨æœ¬æ–‡æ¡£ä¸­åˆ—å‡ºï¼Œè¯·åœ¨ GitHub ä¸Šæäº¤ issue ",-1)])]),_:1}),n(l,{title:"ğŸ’« å¼€å¯æ‹‰å–è¯·æ±‚",link:"https://github.com/MaiCore-Start/MaiCore-Start/pulls"},{default:t(()=>[...s[25]||(s[25]=[a(" å¦‚æœæ‚¨å®ç°äº†æ›´å¥½çš„æƒ³æ³•æˆ–åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ GitHub ä¸Šå¼€å¯ Pull Request ",-1)])]),_:1}),s[33]||(s[33]=i("h2",{id:"æœ‰å…³å®ä¾‹çš„faq",tabindex:"-1"},[a("æœ‰å…³å®ä¾‹çš„FAQ "),i("a",{class:"header-anchor",href:"#æœ‰å…³å®ä¾‹çš„faq","aria-label":'Permalink to "æœ‰å…³å®ä¾‹çš„FAQ"'},"â€‹")],-1)),n(l,{title:"â“ éº¦éº¦çš„å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰",link:"https://docs.mai-mai.org/manual/faq/"},{default:t(()=>[...s[26]||(s[26]=[a(" è§£å†³æ‚¨åœ¨ä½¿ç”¨ MaiBot æ—¶å¯èƒ½é‡è§çš„å°é—®é¢˜ ",-1)])]),_:1}),n(l,{title:"ğŸ¦Š å¢¨ç‹å¸¸è§é—®é¢˜ä¸å¸®åŠ©",link:"https://docs.mofox-sama.com/docs/guides/model_config_faq.html"},{default:t(()=>[...s[27]||(s[27]=[a(" è§£å†³æ‚¨åœ¨ä½¿ç”¨ MoFox_bot æ—¶å¯èƒ½é‡è§çš„å°é—®é¢˜ ",-1)])]),_:1}),s[34]||(s[34]=i("h2",{id:"top",tabindex:"-1"},[a("TOP "),i("a",{class:"header-anchor",href:"#top","aria-label":'Permalink to "TOP"'},"â€‹")],-1)),n(e)])}const B=r(o,[["render",y]]);export{q as __pageData,B as default};
