import{_ as d,C as p,c as g,o as k,j as i,G as n,b as y,ar as e,a,w as l,as as c}from"./chunks/framework.DwOsETNj.js";const A=JSON.parse('{"title":"MaiCore Start å¯åŠ¨æŒ‡å—","description":"","frontmatter":{},"headers":[],"relativePath":"use/startup.md","filePath":"use/startup.md","lastUpdated":1766413896000}'),F={name:"use/startup.md"},u={id:"top",tabindex:"-1"};function C(b,s,q,B,_,f){const r=p("NolebasePageProperties"),t=p("VPNolebaseInlineLinkPreview"),E=p("Mermaid"),h=p("NCard"),o=p("NolebaseGitChangelog");return k(),g("div",null,[s[13]||(s[13]=i("h1",{id:"maicore-start-å¯åŠ¨æŒ‡å—",tabindex:"-1"},[a("MaiCore Start å¯åŠ¨æŒ‡å— "),i("a",{class:"header-anchor",href:"#maicore-start-å¯åŠ¨æŒ‡å—","aria-label":'Permalink to "MaiCore Start å¯åŠ¨æŒ‡å—"'},"â€‹")],-1)),n(r),s[14]||(s[14]=i("blockquote",null,[i("p",null,[i("strong",null,"æ¬¢è¿ä½¿ç”¨ MaiCore Start å¯åŠ¨ç³»ç»Ÿï¼"),a(" è¿™æ˜¯ä¸€ä¸ªå…¨é¢çš„å¯åŠ¨æŒ‡å—ï¼Œå°†è¯¦ç»†ä»‹ç»å¯åŠ¨æµç¨‹å’Œç¨‹åºç‹¬ç‰¹çš„ä¸‰å¤§æ ¸å¿ƒæœºåˆ¶ã€‚")])],-1)),s[15]||(s[15]=i("div",{class:"tip custom-block"},[i("p",{class:"custom-block-title"},"æ¸©é¦¨æç¤º"),i("p",null,"æœ¬æŒ‡å—å°†æ·±å…¥é˜é‡Šé…ç½®é›†æœºåˆ¶ã€è¿›ç¨‹ç›‘æ§æœºåˆ¶å’Œå®ä¾‹å¤šå¼€æœºåˆ¶ï¼Œå¸®åŠ©æ‚¨ç†è§£ç¨‹åºçš„å¼ºå¤§åŠŸèƒ½ã€‚")],-1)),s[16]||(s[16]=i("h2",{id:"ğŸ“‹-ç›®å½•",tabindex:"-1"},[a("ğŸ“‹ ç›®å½• "),i("a",{class:"header-anchor",href:"#ğŸ“‹-ç›®å½•","aria-label":'Permalink to "ğŸ“‹ ç›®å½•"'},"â€‹")],-1)),i("ul",null,[i("li",null,[n(t,{href:"#å¯åŠ¨æµç¨‹æ¦‚è¿°"},{default:l(()=>[...s[0]||(s[0]=[a("å¯åŠ¨æµç¨‹æ¦‚è¿°",-1)])]),_:1})]),i("li",null,[n(t,{href:"#é…ç½®é›†æœºåˆ¶è¯¦è§£"},{default:l(()=>[...s[1]||(s[1]=[a("é…ç½®é›†æœºåˆ¶è¯¦è§£",-1)])]),_:1})]),i("li",null,[n(t,{href:"#è¿›ç¨‹ç›‘æ§æœºåˆ¶è¯¦è§£"},{default:l(()=>[...s[2]||(s[2]=[a("è¿›ç¨‹ç›‘æ§æœºåˆ¶è¯¦è§£",-1)])]),_:1})]),i("li",null,[n(t,{href:"#å®ä¾‹å¤šå¼€æœºåˆ¶è¯¦è§£"},{default:l(()=>[...s[3]||(s[3]=[a("å®ä¾‹å¤šå¼€æœºåˆ¶è¯¦è§£",-1)])]),_:1})]),i("li",null,[n(t,{href:"#å¯åŠ¨æ“ä½œæŒ‡å—"},{default:l(()=>[...s[4]||(s[4]=[a("å¯åŠ¨æ“ä½œæŒ‡å—",-1)])]),_:1})]),i("li",null,[n(t,{href:"#é«˜çº§åŠŸèƒ½ä½¿ç”¨"},{default:l(()=>[...s[5]||(s[5]=[a("é«˜çº§åŠŸèƒ½ä½¿ç”¨",-1)])]),_:1})]),i("li",null,[n(t,{href:"#æ•…éšœæ’é™¤"},{default:l(()=>[...s[6]||(s[6]=[a("æ•…éšœæ’é™¤",-1)])]),_:1})])]),s[17]||(s[17]=i("h2",{id:"ğŸš€-å¯åŠ¨æµç¨‹æ¦‚è¿°",tabindex:"-1"},[a("ğŸš€ å¯åŠ¨æµç¨‹æ¦‚è¿° "),i("a",{class:"header-anchor",href:"#ğŸš€-å¯åŠ¨æµç¨‹æ¦‚è¿°","aria-label":'Permalink to "ğŸš€ å¯åŠ¨æµç¨‹æ¦‚è¿°"'},"â€‹")],-1)),s[18]||(s[18]=i("h3",{id:"å¯åŠ¨æ¶æ„å›¾",tabindex:"-1"},[a("å¯åŠ¨æ¶æ„å›¾ "),i("a",{class:"header-anchor",href:"#å¯åŠ¨æ¶æ„å›¾","aria-label":'Permalink to "å¯åŠ¨æ¶æ„å›¾"'},"â€‹")],-1)),(k(),y(c,null,{default:l(()=>[n(E,{id:"mermaid-61",class:"mermaid my-class",graph:"graph%20TD%0A%20%20%20%20A%5B%E5%90%AF%E5%8A%A8%20MaiCore%20Start%5D%20--%3E%20B%5B%E5%8A%A0%E8%BD%BD%E9%85%8D%E7%BD%AE%E9%9B%86%5D%0A%20%20%20%20B%20--%3E%20C%5B%E6%98%BE%E7%A4%BA%E4%B8%BB%E8%8F%9C%E5%8D%95%5D%0A%20%20%20%20C%20--%3E%20D%5B%E9%80%89%E6%8B%A9%E5%AE%9E%E4%BE%8B%5D%0A%20%20%20%20D%20--%3E%20E%5B%E9%AA%8C%E8%AF%81%E9%85%8D%E7%BD%AE%5D%0A%20%20%20%20E%20--%3E%20F%5B%E5%90%AF%E5%8A%A8%E7%BB%84%E4%BB%B6%5D%0A%20%20%20%20F%20--%3E%20G%5B%E8%BF%9B%E7%A8%8B%E7%9B%91%E6%8E%A7%5D%0A%20%20%20%20G%20--%3E%20H%5B%E5%AE%9E%E4%BE%8B%E8%BF%90%E8%A1%8C%5D%0A%20%20%20%20%0A%20%20%20%20C%20--%3E%20I%5B%E5%AE%9E%E4%BE%8B%E5%A4%9A%E5%BC%80%E7%AE%A1%E7%90%86%5D%0A%20%20%20%20I%20--%3E%20J%5B%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%BC%80%E5%AE%9E%E4%BE%8B%5D%0A%20%20%20%20J%20--%3E%20K%5B%E7%AB%AF%E5%8F%A3%E5%88%86%E9%85%8D%5D%0A%20%20%20%20K%20--%3E%20L%5B%E5%A4%9A%E5%AE%9E%E4%BE%8B%E5%90%AF%E5%8A%A8%5D%0A%20%20%20%20%0A%20%20%20%20F%20--%3E%20M%5BMaiBot%E7%BB%84%E4%BB%B6%5D%0A%20%20%20%20F%20--%3E%20N%5BMoFox_bot%E7%BB%84%E4%BB%B6%5D%0A%20%20%20%20F%20--%3E%20O%5B%E9%80%82%E9%85%8D%E5%99%A8%E7%BB%84%E4%BB%B6%5D%0A%20%20%20%20F%20--%3E%20P%5BNapCat%E7%BB%84%E4%BB%B6%5D%0A%20%20%20%20F%20--%3E%20Q%5BWebUI%E7%BB%84%E4%BB%B6%5D%0A%20%20%20%20F%20--%3E%20R%5BMongoDB%E7%BB%84%E4%BB%B6%5D%0A"})]),fallback:l(()=>[...s[7]||(s[7]=[a(" Loading... ",-1)])]),_:1})),s[19]||(s[19]=e(`<h3 id="å¯åŠ¨æµç¨‹è¯¦è§£" tabindex="-1">å¯åŠ¨æµç¨‹è¯¦è§£ <a class="header-anchor" href="#å¯åŠ¨æµç¨‹è¯¦è§£" aria-label="Permalink to &quot;å¯åŠ¨æµç¨‹è¯¦è§£&quot;">â€‹</a></h3><h4 id="_1-ç¨‹åºåˆå§‹åŒ–-ğŸ”§" tabindex="-1">1. ç¨‹åºåˆå§‹åŒ– ğŸ”§ <a class="header-anchor" href="#_1-ç¨‹åºåˆå§‹åŒ–-ğŸ”§" aria-label="Permalink to &quot;1. ç¨‹åºåˆå§‹åŒ– ğŸ”§&quot;">â€‹</a></h4><p>å½“æ‚¨å¯åŠ¨ MaiCore Start æ—¶ï¼Œç³»ç»Ÿä¼šæŒ‰ä»¥ä¸‹é¡ºåºåˆå§‹åŒ–ï¼š</p><ol><li><p><strong>é…ç½®ç³»ç»Ÿåˆå§‹åŒ–</strong></p><ul><li>åŠ è½½ <code>config/config.toml</code> é…ç½®æ–‡ä»¶</li><li>éªŒè¯é…ç½®ç»“æ„å®Œæ•´æ€§</li><li>ä¿®å¤æŸåçš„é…ç½®æ•°æ®</li></ul></li><li><p><strong>ç«¯å£ç®¡ç†å™¨åˆå§‹åŒ–</strong></p><ul><li>æ‰«æç³»ç»Ÿå·²ä½¿ç”¨ç«¯å£</li><li>åŠ è½½ç«¯å£ä½¿ç”¨å†å²</li><li>å‡†å¤‡ç«¯å£åˆ†é…ç­–ç•¥</li></ul></li><li><p><strong>UIç•Œé¢åˆå§‹åŒ–</strong></p><ul><li>åŠ è½½ä¸»é¢˜é…ç½®</li><li>åˆå§‹åŒ–æ§åˆ¶å°ç•Œé¢</li><li>è®¾ç½®é¢œè‰²æ–¹æ¡ˆ</li></ul></li></ol><h4 id="_2-ä¸»èœå•æ˜¾ç¤º-ğŸ“±" tabindex="-1">2. ä¸»èœå•æ˜¾ç¤º ğŸ“± <a class="header-anchor" href="#_2-ä¸»èœå•æ˜¾ç¤º-ğŸ“±" aria-label="Permalink to &quot;2. ä¸»èœå•æ˜¾ç¤º ğŸ“±&quot;">â€‹</a></h4><p>ç¨‹åºæ˜¾ç¤ºåŠŸèƒ½ä¸°å¯Œçš„ä¸»èœå•ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>ğŸš€ MaiCore Start ä¸»èœå•</span></span>
<span class="line"><span>==================================================</span></span>
<span class="line"><span>[1] éƒ¨ç½²æ–°å®ä¾‹</span></span>
<span class="line"><span>[2] å¯åŠ¨ç°æœ‰å®ä¾‹  </span></span>
<span class="line"><span>[3] å®ä¾‹å¤šå¼€ç®¡ç†</span></span>
<span class="line"><span>[4] é…ç½®ç®¡ç†</span></span>
<span class="line"><span>[5] ç»„ä»¶ä¸‹è½½</span></span>
<span class="line"><span>[6] çŸ¥è¯†åº“</span></span>
<span class="line"><span>[7] å®ä¾‹ç»Ÿè®¡</span></span>
<span class="line"><span>[8] ç³»ç»Ÿè®¾ç½®</span></span>
<span class="line"><span>[Q] é€€å‡ºç¨‹åº</span></span></code></pre></div><h2 id="âš™ï¸-é…ç½®é›†æœºåˆ¶è¯¦è§£" tabindex="-1">âš™ï¸ é…ç½®é›†æœºåˆ¶è¯¦è§£ <a class="header-anchor" href="#âš™ï¸-é…ç½®é›†æœºåˆ¶è¯¦è§£" aria-label="Permalink to &quot;âš™ï¸ é…ç½®é›†æœºåˆ¶è¯¦è§£&quot;">â€‹</a></h2><h3 id="ä»€ä¹ˆæ˜¯é…ç½®é›†" tabindex="-1">ä»€ä¹ˆæ˜¯é…ç½®é›†ï¼Ÿ <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯é…ç½®é›†" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯é…ç½®é›†ï¼Ÿ&quot;">â€‹</a></h3><p>é…ç½®é›†æ˜¯ MaiCore Start çš„<mark>æ ¸å¿ƒåˆ›æ–°æœºåˆ¶</mark>ï¼Œå®ƒå°†æ¯ä¸ª Bot å®ä¾‹çš„æ‰€æœ‰é…ç½®ä¿¡æ¯å°è£…ä¸ºä¸€ä¸ªç‹¬ç«‹çš„é…ç½®å•å…ƒã€‚</p><div class="info custom-block"><p class="custom-block-title">é…ç½®é›†ç‰¹ç‚¹</p><ul><li><strong>ç‹¬ç«‹æ€§</strong>: æ¯ä¸ªé…ç½®é›†åŒ…å«å®Œæ•´çš„å®ä¾‹ä¿¡æ¯</li><li><strong>å¯åˆ‡æ¢</strong>: æ”¯æŒåœ¨å¤šä¸ªé…ç½®é›†é—´å¿«é€Ÿåˆ‡æ¢</li><li><strong>å¯ç®¡ç†</strong>: æ”¯æŒåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€éªŒè¯é…ç½®é›†</li><li><strong>å¯æ¢å¤</strong>: æ¸…æ™°çš„å¼•å¯¼æ‚¨é‡æ–°é…ç½®</li></ul></div><h3 id="é…ç½®é›†ç»“æ„" tabindex="-1">é…ç½®é›†ç»“æ„ <a class="header-anchor" href="#é…ç½®é›†ç»“æ„" aria-label="Permalink to &quot;é…ç½®é›†ç»“æ„&quot;">â€‹</a></h3><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># config/config.toml</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">configurations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">serial_number = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          #åºåˆ—å·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">absolute_serial_number = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   #ç»å¯¹åºåˆ—å·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">version_path = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.0.0&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       #ç‰ˆæœ¬å·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nickname_path = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;é»˜è®¤é…ç½®&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #å®ä¾‹æ˜µç§°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot_type = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MaiBot&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          #å®ä¾‹ç±»å‹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mai_path = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                #MaiBotçš„ä¸»ç¨‹åºåœ°å€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mofox_path = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">              #MoFox_botçš„ä¸»ç¨‹åºåœ°å€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">adapter_path = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            #é€‚é…å™¨åœ°å€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">napcat_path = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">             #NapCatåœ°å€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">napcat_version = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          #NapCatç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">qq_account = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">              #å½“å‰å®ä¾‹çš„QQå·</span></span></code></pre></div><h3 id="é…ç½®é›†ç®¡ç†åŠŸèƒ½" tabindex="-1">é…ç½®é›†ç®¡ç†åŠŸèƒ½ <a class="header-anchor" href="#é…ç½®é›†ç®¡ç†åŠŸèƒ½" aria-label="Permalink to &quot;é…ç½®é›†ç®¡ç†åŠŸèƒ½&quot;">â€‹</a></h3><h4 id="_1-è‡ªåŠ¨é…ç½®æ£€æµ‹-ğŸ”" tabindex="-1">1. è‡ªåŠ¨é…ç½®æ£€æµ‹ ğŸ” <a class="header-anchor" href="#_1-è‡ªåŠ¨é…ç½®æ£€æµ‹-ğŸ”" aria-label="Permalink to &quot;1. è‡ªåŠ¨é…ç½®æ£€æµ‹ ğŸ”&quot;">â€‹</a></h4><p>ç¨‹åºå…·å¤‡å¼ºå¤§çš„<mark>è‡ªåŠ¨æ£€æµ‹èƒ½åŠ›</mark>ï¼š</p><ul><li><strong>Botè·¯å¾„æ£€æµ‹</strong>: è‡ªåŠ¨æ‰«ææŒ‡å®šç›®å½•ä¸‹çš„ Bot å®ä¾‹</li><li><strong>é…ç½®æ–‡ä»¶è§£æ</strong>: è¯»å– <code>bot_config.toml</code> é¢„å¡«å……ä¿¡æ¯</li><li><strong>ç»„ä»¶è·¯å¾„æ£€æµ‹</strong>: è‡ªåŠ¨å‘ç°é€‚é…å™¨ã€NapCatã€WebUI ç­‰ç»„ä»¶</li><li><strong>ç‰ˆæœ¬è¯†åˆ«</strong>: è‡ªåŠ¨è¯†åˆ« Bot ç‰ˆæœ¬å¹¶æ¨èç›¸åº”é…ç½®</li></ul><h4 id="_2-é…ç½®éªŒè¯ä¸ä¿®å¤-ğŸ› ï¸" tabindex="-1">2. é…ç½®éªŒè¯ä¸ä¿®å¤ ğŸ› ï¸ <a class="header-anchor" href="#_2-é…ç½®éªŒè¯ä¸ä¿®å¤-ğŸ› ï¸" aria-label="Permalink to &quot;2. é…ç½®éªŒè¯ä¸ä¿®å¤ ğŸ› ï¸&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _validate_and_repair_serials</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;éªŒè¯å¹¶ä¿®å¤ç»å¯¹åºåˆ—å·ï¼Œç¡®ä¿å…¶å”¯ä¸€ä¸”å‡åº&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    repaired </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    configurations </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.get_all_configurations()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # æ£€æŸ¥æ˜¯å¦å­˜åœ¨é—®é¢˜ï¼ˆé‡å¤æˆ–ä¸è¿ç»­ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    serials </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cfg.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;absolute_serial_number&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _, cfg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config_items]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    is_problematic </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(serials) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(serials)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">or</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sorted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(serials) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(serials) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> is_problematic:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # æŒ‰åŸå§‹é¡ºåºé‡æ–°åˆ†é…åºåˆ—å·</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i, (name, config) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> enumerate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config_items):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.config[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;configurations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][name][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;absolute_serial_number&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span></code></pre></div><h4 id="_3-é…ç½®é›†æ“ä½œ-ğŸ¯" tabindex="-1">3. é…ç½®é›†æ“ä½œ ğŸ¯ <a class="header-anchor" href="#_3-é…ç½®é›†æ“ä½œ-ğŸ¯" aria-label="Permalink to &quot;3. é…ç½®é›†æ“ä½œ ğŸ¯&quot;">â€‹</a></h4><p><strong>åˆ›å»ºé…ç½®é›†</strong>:</p><ul><li>è‡ªåŠ¨åˆ›å»º: æ‰«æç°æœ‰ Bot å®ä¾‹å¹¶åˆ›å»ºé…ç½®</li><li>æ‰‹åŠ¨åˆ›å»º: é€æ­¥è¾“å…¥é…ç½®ä¿¡æ¯</li><li>æ¨¡æ¿åˆ›å»º: åŸºäºç°æœ‰é…ç½®åˆ›å»ºå‰¯æœ¬</li></ul><p><strong>ç¼–è¾‘é…ç½®é›†</strong>:</p><ul><li>è·¯å¾„æ›´æ–°: ä¿®æ”¹ Botã€é€‚é…å™¨ç­‰ç»„ä»¶è·¯å¾„</li><li>é€‰é¡¹è°ƒæ•´: æ›´æ”¹å®‰è£…çš„ç»„ä»¶é€‰é¡¹</li><li>å‚æ•°ä¿®æ”¹: æ›´æ–°ç‰ˆæœ¬ã€æ˜µç§°ã€QQå·ç­‰</li></ul><h2 id="ğŸ“Š-è¿›ç¨‹ç›‘æ§æœºåˆ¶è¯¦è§£" tabindex="-1">ğŸ“Š è¿›ç¨‹ç›‘æ§æœºåˆ¶è¯¦è§£ <a class="header-anchor" href="#ğŸ“Š-è¿›ç¨‹ç›‘æ§æœºåˆ¶è¯¦è§£" aria-label="Permalink to &quot;ğŸ“Š è¿›ç¨‹ç›‘æ§æœºåˆ¶è¯¦è§£&quot;">â€‹</a></h2><h3 id="è¿›ç¨‹ç®¡ç†æ¶æ„" tabindex="-1">è¿›ç¨‹ç®¡ç†æ¶æ„ <a class="header-anchor" href="#è¿›ç¨‹ç®¡ç†æ¶æ„" aria-label="Permalink to &quot;è¿›ç¨‹ç®¡ç†æ¶æ„&quot;">â€‹</a></h3><p>MaiCore Start å®ç°äº†<mark>æå…¶å¼ºå¤§çš„è¿›ç¨‹ç›‘æ§æœºåˆ¶</mark>ï¼Œç¡®ä¿æ¯ä¸ªç»„ä»¶éƒ½èƒ½è¢«å¦¥å–„ç®¡ç†ã€‚</p><div class="warning custom-block"><p class="custom-block-title">è¿›ç¨‹ç›‘æ§ç‰¹ç‚¹</p><ul><li><strong>éš”ç¦»æ€§</strong>: æ¯ä¸ªç»„ä»¶åœ¨ç‹¬ç«‹è¿›ç¨‹ä¸­è¿è¡Œ</li><li><strong>å¯æ§æ€§</strong>: æ”¯æŒå¯åŠ¨ã€åœæ­¢ã€é‡å¯å•ä¸ªè¿›ç¨‹</li><li><strong>ç›‘æ§æ€§</strong>: å®æ—¶ç›‘æ§è¿›ç¨‹çŠ¶æ€å’Œèµ„æºä½¿ç”¨</li><li><strong>å®‰å…¨æ€§</strong>: å¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹æ ‘ï¼Œé¿å…åƒµå°¸è¿›ç¨‹</li></ul></div><h3 id="è¿›ç¨‹ç®¡ç†å™¨æ ¸å¿ƒç»„ä»¶" tabindex="-1">è¿›ç¨‹ç®¡ç†å™¨æ ¸å¿ƒç»„ä»¶ <a class="header-anchor" href="#è¿›ç¨‹ç®¡ç†å™¨æ ¸å¿ƒç»„ä»¶" aria-label="Permalink to &quot;è¿›ç¨‹ç®¡ç†å™¨æ ¸å¿ƒç»„ä»¶&quot;">â€‹</a></h3><h4 id="_1-processmanager-ç±»-ğŸ›ï¸" tabindex="-1">1. _ProcessManager ç±» ğŸ›ï¸ <a class="header-anchor" href="#_1-processmanager-ç±»-ğŸ›ï¸" aria-label="Permalink to &quot;1. _ProcessManager ç±» ğŸ›ï¸&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _ProcessManager</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;å†…éƒ¨è¿›ç¨‹ç®¡ç†å™¨ã€‚</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    è´Ÿè´£åœ¨æ–°CMDçª—å£ä¸­å¯åŠ¨ã€è·Ÿè¸ªå’Œåœæ­¢è¿›ç¨‹ã€‚</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.running_processes: List[Dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any]] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span></code></pre></div><p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>:</p><ul><li><strong>è¿›ç¨‹å¯åŠ¨</strong>: åœ¨æ–°æ§åˆ¶å°çª—å£ä¸­å¯åŠ¨ç»„ä»¶</li><li><strong>è¿›ç¨‹è·Ÿè¸ª</strong>: ç»´æŠ¤è¿è¡Œè¿›ç¨‹çš„ä¿¡æ¯åˆ—è¡¨</li><li><strong>è¿›ç¨‹åœæ­¢</strong>: å®‰å…¨ç»ˆæ­¢è¿›ç¨‹åŠå…¶å­è¿›ç¨‹</li><li><strong>èµ„æºç›‘æ§</strong>: ç›‘æ§ CPUã€å†…å­˜ä½¿ç”¨æƒ…å†µ</li></ul><h4 id="_2-ç»„ä»¶å¯åŠ¨æœºåˆ¶-ğŸ”§" tabindex="-1">2. ç»„ä»¶å¯åŠ¨æœºåˆ¶ ğŸ”§ <a class="header-anchor" href="#_2-ç»„ä»¶å¯åŠ¨æœºåˆ¶-ğŸ”§" aria-label="Permalink to &quot;2. ç»„ä»¶å¯åŠ¨æœºåˆ¶ ğŸ”§&quot;">â€‹</a></h4><p>æ¯ä¸ªç»„ä»¶éƒ½ç»§æ‰¿è‡ª <code>_LaunchComponent</code> åŸºç±»ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _LaunchComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;å¯å¯åŠ¨ç»„ä»¶çš„åŸºç±»ã€‚&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, config: Dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any]):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.is_enabled </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> check_enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;æ£€æŸ¥è¯¥ç»„ä»¶æ˜¯å¦æ ¹æ®é…ç½®å¯ç”¨ã€‚&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        raise</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NotImplementedError</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> get_launch_details</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self) -&gt; Optional[Tuple[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;è·å–å¯åŠ¨æ‰€éœ€çš„å‘½ä»¤ã€å·¥ä½œç›®å½•å’Œçª—å£æ ‡é¢˜ã€‚&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        raise</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NotImplementedError</span></span></code></pre></div><p><strong>æ”¯æŒçš„ç»„ä»¶ç±»å‹</strong>:</p><ul><li><strong>MongoDBç»„ä»¶</strong>: ç®¡ç†æ•°æ®åº“æœåŠ¡</li><li><strong>NapCatç»„ä»¶</strong>: ç®¡ç† QQ åè®®ç«¯</li><li><strong>é€‚é…å™¨ç»„ä»¶</strong>: ç®¡ç† Bot é€‚é…å™¨</li><li><strong>WebUIç»„ä»¶</strong>: ç®¡ç†ç½‘é¡µæ§åˆ¶é¢æ¿</li><li><strong>Maiç»„ä»¶</strong>: ç®¡ç† Bot ä¸»ç¨‹åº</li></ul><h4 id="_3-æ™ºèƒ½å¯åŠ¨ç­–ç•¥-ğŸ§ " tabindex="-1">3. æ™ºèƒ½å¯åŠ¨ç­–ç•¥ ğŸ§  <a class="header-anchor" href="#_3-æ™ºèƒ½å¯åŠ¨ç­–ç•¥-ğŸ§ " aria-label="Permalink to &quot;3. æ™ºèƒ½å¯åŠ¨ç­–ç•¥ ğŸ§ &quot;">â€‹</a></h4><p>ç¨‹åºé‡‡ç”¨<mark>æ™ºèƒ½å¯åŠ¨ç­–ç•¥</mark>ï¼Œç¡®ä¿ç»„ä»¶æŒ‰æ­£ç¡®é¡ºåºå¯åŠ¨ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> launch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, components_to_start: List[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;æ ¹æ®ç»™å®šçš„ç»„ä»¶åˆ—è¡¨å¯åŠ¨ã€‚&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ç¡®ä¿MongoDBæ€»æ˜¯æœ€å…ˆå¯åŠ¨ï¼Œè™½ç„¶å®ƒæ€»æ˜¯ç”¨ä¸ä¸Š</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._components[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mongodb&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].is_enabled:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._components[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mongodb&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].start(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._process_manager):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ui.print_warning(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MongoDBå¯åŠ¨å¤±è´¥ï¼Œä½†å°†ç»§ç»­å°è¯•å¯åŠ¨å…¶ä»–ç»„ä»¶ã€‚&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # æŒ‰é¡ºåºå¯åŠ¨ç»„ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    launch_order </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;napcat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;webui&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;adapter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mai&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    final_success </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> comp_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> launch_order:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> comp_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> components_to_start:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._components[comp_name].start(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._process_manager):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                # éº¦éº¦æœ¬ä½“æ˜¯æ ¸å¿ƒï¼Œå¦‚æœå®ƒå¤±è´¥äº†ï¼Œæ•´ä¸ªå¯åŠ¨å°±ç®—å¤±è´¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> comp_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;mai&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    final_success </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    break</span></span></code></pre></div><h4 id="_4-è¿›ç¨‹ç›‘æ§ç•Œé¢-ğŸ“ˆ" tabindex="-1">4. è¿›ç¨‹ç›‘æ§ç•Œé¢ ğŸ“ˆ <a class="header-anchor" href="#_4-è¿›ç¨‹ç›‘æ§ç•Œé¢-ğŸ“ˆ" aria-label="Permalink to &quot;4. è¿›ç¨‹ç›‘æ§ç•Œé¢ ğŸ“ˆ&quot;">â€‹</a></h4><p>ç¨‹åºæä¾›ç›´è§‚çš„è¿›ç¨‹ç›‘æ§ç•Œé¢ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>ğŸ“Š è¿›ç¨‹çŠ¶æ€ç®¡ç†</span></span>
<span class="line"><span>â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>â”‚ PID  â”‚ è¿›ç¨‹åç§°            â”‚ CPU %  â”‚ å†…å­˜ (MB)    â”‚ è¿è¡Œæ—¶é—´ (s) â”‚</span></span>
<span class="line"><span>â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span class="line"><span>â”‚ 1234 â”‚ éº¦éº¦å¯åŠ¨å™¨          â”‚ 2.15   â”‚ 45.32        â”‚ 3600         â”‚</span></span>
<span class="line"><span>â”‚ 5678 â”‚ MaiBotä¸»ç¨‹åº        â”‚ 15.67  â”‚ 128.45       â”‚ 3595         â”‚</span></span>
<span class="line"><span>â”‚ 9012 â”‚ NapCatQQ            â”‚ 8.23   â”‚ 89.12        â”‚ 3590         â”‚</span></span>
<span class="line"><span>â”‚ 3456 â”‚ é€‚é…å™¨              â”‚ 3.45   â”‚ 56.78        â”‚ 3585         â”‚</span></span>
<span class="line"><span>â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span></code></pre></div><h3 id="è¿›ç¨‹å®‰å…¨æœºåˆ¶" tabindex="-1">è¿›ç¨‹å®‰å…¨æœºåˆ¶ <a class="header-anchor" href="#è¿›ç¨‹å®‰å…¨æœºåˆ¶" aria-label="Permalink to &quot;è¿›ç¨‹å®‰å…¨æœºåˆ¶&quot;">â€‹</a></h3><h4 id="_1-å¼ºåˆ¶è¿›ç¨‹ç»ˆæ­¢-âš¡" tabindex="-1">1. å¼ºåˆ¶è¿›ç¨‹ç»ˆæ­¢ âš¡ <a class="header-anchor" href="#_1-å¼ºåˆ¶è¿›ç¨‹ç»ˆæ­¢-âš¡" aria-label="Permalink to &quot;1. å¼ºåˆ¶è¿›ç¨‹ç»ˆæ­¢ âš¡&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> stop_process</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, pid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;é€šè¿‡PIDåœæ­¢å•ä¸ªè¿›ç¨‹åŠå…¶å­è¿›ç¨‹ã€‚&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ä¼˜å…ˆä½¿ç”¨ taskkill (ä»…é™Windows) æ¥ç¡®ä¿ç»ˆæ­¢æ•´ä¸ªè¿›ç¨‹æ ‘</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;nt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        kill_command </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;taskkill&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/F&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/T&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/PID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pid)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subprocess.run(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            kill_command,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">            capture_output</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">            text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">            check</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">            creationflags</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subprocess.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CREATE_NO_WINDOW</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        )</span></span></code></pre></div><h4 id="_2-è¿›ç¨‹çŠ¶æ€ç¼“å­˜-ğŸ”„" tabindex="-1">2. è¿›ç¨‹çŠ¶æ€ç¼“å­˜ ğŸ”„ <a class="header-anchor" href="#_2-è¿›ç¨‹çŠ¶æ€ç¼“å­˜-ğŸ”„" aria-label="Permalink to &quot;2. è¿›ç¨‹çŠ¶æ€ç¼“å­˜ ğŸ”„&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> show_running_processes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;ä»¥è¡¨æ ¼å½¢å¼æ˜¾ç¤ºå½“å‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹çŠ¶æ€ï¼Œå¹¶ä½¿ç”¨ç¼“å­˜è®¡ç®—CPUã€‚&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # æ¸…ç†å·²ç»“æŸè¿›ç¨‹çš„ç¼“å­˜</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._process_cache.keys()):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">not</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> current_pids:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            del</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._process_cache[pid]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ä½¿ç”¨ç¼“å­˜é¿å…é‡å¤åˆ›å»º Process å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> meta </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> all_process_meta:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._process_cache.get(pid)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">is</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> psutil.Process(pid)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            p.cpu_percent()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç¬¬ä¸€æ¬¡è°ƒç”¨è¿”å›0ï¼Œä½†ä¼šåˆå§‹åŒ–è®¡æ—¶å™¨</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._process_cache[pid] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p</span></span></code></pre></div><hr><h2 id="ğŸ”€-å®ä¾‹å¤šå¼€æœºåˆ¶è¯¦è§£" tabindex="-1">ğŸ”€ å®ä¾‹å¤šå¼€æœºåˆ¶è¯¦è§£ <a class="header-anchor" href="#ğŸ”€-å®ä¾‹å¤šå¼€æœºåˆ¶è¯¦è§£" aria-label="Permalink to &quot;ğŸ”€ å®ä¾‹å¤šå¼€æœºåˆ¶è¯¦è§£&quot;">â€‹</a></h2><h3 id="å¤šå¼€æœºåˆ¶æ¦‚è¿°" tabindex="-1">å¤šå¼€æœºåˆ¶æ¦‚è¿° <a class="header-anchor" href="#å¤šå¼€æœºåˆ¶æ¦‚è¿°" aria-label="Permalink to &quot;å¤šå¼€æœºåˆ¶æ¦‚è¿°&quot;">â€‹</a></h3><p>å®ä¾‹å¤šå¼€æ˜¯ MaiCore Start çš„<mark>é©å‘½æ€§åŠŸèƒ½</mark>ï¼Œå…è®¸ç”¨æˆ·åŒæ—¶è¿è¡Œå¤šä¸ª Bot å®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹éƒ½æœ‰ç‹¬ç«‹çš„é…ç½®å’Œç«¯å£ã€‚</p><div class="tip custom-block"><p class="custom-block-title">å¤šå¼€ä¼˜åŠ¿</p><ul><li><strong>èµ„æºéš”ç¦»</strong>: æ¯ä¸ªå®ä¾‹ç‹¬ç«‹è¿è¡Œï¼Œäº’ä¸å¹²æ‰°</li><li><strong>ç«¯å£è‡ªåŠ¨åˆ†é…</strong>: æ™ºèƒ½é¿å…ç«¯å£å†²çª</li><li><strong>ç»Ÿä¸€ç®¡ç†</strong>: é€šè¿‡ç»Ÿä¸€ç•Œé¢ç®¡ç†æ‰€æœ‰å®ä¾‹</li><li><strong>çµæ´»é…ç½®</strong>: æ¯ä¸ªå®ä¾‹å¯ä½¿ç”¨ä¸åŒé…ç½®</li></ul></div><h3 id="å¤šå¼€æ¶æ„è®¾è®¡" tabindex="-1">å¤šå¼€æ¶æ„è®¾è®¡ <a class="header-anchor" href="#å¤šå¼€æ¶æ„è®¾è®¡" aria-label="Permalink to &quot;å¤šå¼€æ¶æ„è®¾è®¡&quot;">â€‹</a></h3><h4 id="_1-å®ä¾‹æ ‡è¯†ç³»ç»Ÿ-ğŸ·ï¸" tabindex="-1">1. å®ä¾‹æ ‡è¯†ç³»ç»Ÿ ğŸ·ï¸ <a class="header-anchor" href="#_1-å®ä¾‹æ ‡è¯†ç³»ç»Ÿ-ğŸ·ï¸" aria-label="Permalink to &quot;1. å®ä¾‹æ ‡è¯†ç³»ç»Ÿ ğŸ·ï¸&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> create_multi_instance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, base_config: Dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any], instance_name: Optional[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;åˆ›å»ºå¤šå¼€å®ä¾‹&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ç”Ÿæˆå®ä¾‹ID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    instance_id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(uuid.uuid4())[:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> instance_name:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        instance_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å¤šå¼€å®ä¾‹_</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">instance_id</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # åˆ›å»ºå¤šå¼€å®ä¾‹é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    multi_instance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: instance_id,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: instance_name,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;bot_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: bot_type,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;base_config_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._get_config_name_from_config(base_config),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;created_time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Path().cwd()),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;created&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># created, running, stopped</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;ports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;main_port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: main_port,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;secondary_port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: secondary_port</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre></div><p><strong>å®ä¾‹å±æ€§</strong>:</p><ul><li><strong>ID</strong>: 8ä½å”¯ä¸€æ ‡è¯†ç¬¦</li><li><strong>åç§°</strong>: ç”¨æˆ·å‹å¥½çš„å®ä¾‹åç§°</li><li><strong>ç±»å‹</strong>: MaiBot æˆ– MoFox_bot</li><li><strong>çŠ¶æ€</strong>: created/running/stopped</li><li><strong>ç«¯å£</strong>: ä¸»ç¨‹åºç«¯å£å’Œè¾…åŠ©ç«¯å£</li></ul><h4 id="_2-ç«¯å£æ™ºèƒ½åˆ†é…-ğŸ¯" tabindex="-1">2. ç«¯å£æ™ºèƒ½åˆ†é… ğŸ¯ <a class="header-anchor" href="#_2-ç«¯å£æ™ºèƒ½åˆ†é…-ğŸ¯" aria-label="Permalink to &quot;2. ç«¯å£æ™ºèƒ½åˆ†é… ğŸ¯&quot;">â€‹</a></h4><p>ç«¯å£ç®¡ç†å™¨é‡‡ç”¨<mark>æ™ºèƒ½åˆ†é…ç®—æ³•</mark>ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> get_next_instance_port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, instance_type: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, base_config: Dict) -&gt; Tuple[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;ä¸ºæ–°å®ä¾‹è·å–ä¸‹ä¸€ä¸ªå¯ç”¨ç«¯å£ç»„åˆï¼Œæ”¯æŒå¤šå®ä¾‹æ··ç”¨&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> instance_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;MaiBot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # MaiBotéœ€è¦ä¸»ç¨‹åºç«¯å£å’ŒWebUIç«¯å£</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            main_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.find_available_port(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mai_main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        except</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            main_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.find_available_port(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mofox_main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ‰©å±•æœç´¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            webui_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.find_available_port(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mai_webui&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, main_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        except</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            webui_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.find_available_port(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;webui&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, main_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> main_port, webui_port</span></span></code></pre></div><p><strong>ç«¯å£åˆ†é…ç­–ç•¥</strong>:</p><ul><li><strong>MaiBot</strong>: ä¸»ç¨‹åº(8000-8100) + WebUI(8001-8101)</li><li><strong>MoFox_bot</strong>: ä¸»ç¨‹åº(8000-8100) + NapCat(8090-8190)</li><li><strong>å†²çªæ£€æµ‹</strong>: è‡ªåŠ¨æ£€æµ‹å¹¶é¿å…ç«¯å£å†²çª</li><li><strong>èŒƒå›´æ‰©å±•</strong>: ä¸»èŒƒå›´å†²çªæ—¶è‡ªåŠ¨æ‰©å±•åˆ°å¤‡ç”¨èŒƒå›´</li></ul><h4 id="_3-é…ç½®ç»§æ‰¿æœºåˆ¶-ğŸ”—" tabindex="-1">3. é…ç½®ç»§æ‰¿æœºåˆ¶ ğŸ”— <a class="header-anchor" href="#_3-é…ç½®ç»§æ‰¿æœºåˆ¶-ğŸ”—" aria-label="Permalink to &quot;3. é…ç½®ç»§æ‰¿æœºåˆ¶ ğŸ”—&quot;">â€‹</a></h4><p>å¤šå¼€å®ä¾‹åŸºäºåŸºç¡€é…ç½®åˆ›å»ºï¼Œä½†ä¼šè¿›è¡Œä¸ªæ€§åŒ–è°ƒæ•´ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _get_base_config_for_instance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, instance: Dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any]) -&gt; Dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any]:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;ä¸ºå¤šå¼€å®ä¾‹è·å–åŸºç¡€é…ç½®&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # è·å–åŸºç¡€é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    config_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> instance.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;base_config_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    base_config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> all_configs.get(config_name, {})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # æ›´æ–°ç«¯å£ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ports </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> instance.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    main_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ports.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main_port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    secondary_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ports.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;secondary_port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> main_port:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # æ›´æ–°.envæ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        env_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.join(instance_path, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.env&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> instance[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bot_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;MaiBot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            port_manager.update_env_file(env_path, main_port, secondary_port)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            port_manager.update_env_file(env_path, main_port)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # æ›´æ–°é€‚é…å™¨é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        adapter_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base_config.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;adapter_path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> adapter_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.exists(adapter_path):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> instance[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bot_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;MaiBot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                adapter_config_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.join(adapter_path, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;config.toml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                port_manager.update_maibot_adapter_config(adapter_config_path, main_port, secondary_port)</span></span></code></pre></div><h3 id="å¤šå¼€ç®¡ç†ç•Œé¢" tabindex="-1">å¤šå¼€ç®¡ç†ç•Œé¢ <a class="header-anchor" href="#å¤šå¼€ç®¡ç†ç•Œé¢" aria-label="Permalink to &quot;å¤šå¼€ç®¡ç†ç•Œé¢&quot;">â€‹</a></h3><h4 id="_1-å®ä¾‹åˆ—è¡¨æ˜¾ç¤º-ğŸ“‹" tabindex="-1">1. å®ä¾‹åˆ—è¡¨æ˜¾ç¤º ğŸ“‹ <a class="header-anchor" href="#_1-å®ä¾‹åˆ—è¡¨æ˜¾ç¤º-ğŸ“‹" aria-label="Permalink to &quot;1. å®ä¾‹åˆ—è¡¨æ˜¾ç¤º ğŸ“‹&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>ğŸš€ å®ä¾‹å¤šå¼€ç®¡ç†</span></span>
<span class="line"><span>==================================================</span></span>
<span class="line"><span>[ç«¯å£ä½¿ç”¨çŠ¶æ€]</span></span>
<span class="line"><span>  MaiBotå®ä¾‹:</span></span>
<span class="line"><span>    - æˆ‘çš„éº¦éº¦1: ä¸»ç¨‹åº(8000) + WebUI(8001)</span></span>
<span class="line"><span>    - æˆ‘çš„éº¦éº¦2: ä¸»ç¨‹åº(8002) + WebUI(8003)</span></span>
<span class="line"><span>  MoFox_botå®ä¾‹:</span></span>
<span class="line"><span>    - å¢¨ç‹æµ‹è¯•: ä¸»ç¨‹åº(8004) + NapCat(8090)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>â”‚ ID     â”‚ åç§°         â”‚ ç±»å‹     â”‚ çŠ¶æ€     â”‚ ç«¯å£     â”‚</span></span>
<span class="line"><span>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span class="line"><span>â”‚ a1b2c3d4â”‚ æˆ‘çš„éº¦éº¦1    â”‚ MaiBot   â”‚ running  â”‚ 8000/8001â”‚</span></span>
<span class="line"><span>â”‚ e5f6g7h8â”‚ æˆ‘çš„éº¦éº¦2    â”‚ MaiBot   â”‚ stopped  â”‚ 8002/8003â”‚</span></span>
<span class="line"><span>â”‚ i9j0k1l2â”‚ å¢¨ç‹æµ‹è¯•     â”‚ MoFox_botâ”‚ running  â”‚ 8004/8090â”‚</span></span>
<span class="line"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[æ“ä½œé€‰é¡¹]</span></span>
<span class="line"><span> [A] åˆ›å»ºæ–°çš„å¤šå¼€å®ä¾‹</span></span>
<span class="line"><span> [B] å¯åŠ¨å¤šå¼€å®ä¾‹</span></span>
<span class="line"><span> [C] åœæ­¢å¤šå¼€å®ä¾‹</span></span>
<span class="line"><span> [D] åˆ é™¤å¤šå¼€å®ä¾‹</span></span>
<span class="line"><span> [E] æŸ¥çœ‹å®ä¾‹è¯¦æƒ…</span></span>
<span class="line"><span> [Q] è¿”å›ä¸Šçº§èœå•</span></span></code></pre></div><h4 id="_2-å®ä¾‹æ“ä½œåŠŸèƒ½-âš¡" tabindex="-1">2. å®ä¾‹æ“ä½œåŠŸèƒ½ âš¡ <a class="header-anchor" href="#_2-å®ä¾‹æ“ä½œåŠŸèƒ½-âš¡" aria-label="Permalink to &quot;2. å®ä¾‹æ“ä½œåŠŸèƒ½ âš¡&quot;">â€‹</a></h4><p><strong>åˆ›å»ºå®ä¾‹</strong>:</p><ol><li>é€‰æ‹©åŸºç¡€é…ç½®</li><li>è¾“å…¥å®ä¾‹åç§°</li><li>è‡ªåŠ¨åˆ†é…ç«¯å£</li><li>åˆ›å»ºå®ä¾‹é…ç½®</li></ol><p><strong>å¯åŠ¨å®ä¾‹</strong>:</p><ol><li>éªŒè¯å®ä¾‹é…ç½®</li><li>åˆ†é…å¯ç”¨ç«¯å£</li><li>æ›´æ–°é…ç½®æ–‡ä»¶</li><li>å¯åŠ¨ç»„ä»¶æœåŠ¡</li></ol><p><strong>åœæ­¢å®ä¾‹</strong>:</p><ol><li>åœæ­¢æ‰€æœ‰ç›¸å…³è¿›ç¨‹</li><li>é‡Šæ”¾ç«¯å£å ç”¨</li><li>æ›´æ–°å®ä¾‹çŠ¶æ€</li></ol><p><strong>åˆ é™¤å®ä¾‹</strong>:</p><ol><li>ç¡®è®¤å®ä¾‹çŠ¶æ€</li><li>åœæ­¢è¿è¡Œä¸­çš„å®ä¾‹</li><li>åˆ é™¤å®ä¾‹é…ç½®</li><li>æ¸…ç†ç«¯å£ä¿¡æ¯</li></ol><hr><h2 id="ğŸ®-å¯åŠ¨æ“ä½œæŒ‡å—" tabindex="-1">ğŸ® å¯åŠ¨æ“ä½œæŒ‡å— <a class="header-anchor" href="#ğŸ®-å¯åŠ¨æ“ä½œæŒ‡å—" aria-label="Permalink to &quot;ğŸ® å¯åŠ¨æ“ä½œæŒ‡å—&quot;">â€‹</a></h2><h3 id="å¿«é€Ÿå¯åŠ¨æµç¨‹" tabindex="-1">å¿«é€Ÿå¯åŠ¨æµç¨‹ <a class="header-anchor" href="#å¿«é€Ÿå¯åŠ¨æµç¨‹" aria-label="Permalink to &quot;å¿«é€Ÿå¯åŠ¨æµç¨‹&quot;">â€‹</a></h3><h4 id="_1-é€‰æ‹©å¯åŠ¨æ–¹å¼-ğŸš€" tabindex="-1">1. é€‰æ‹©å¯åŠ¨æ–¹å¼ ğŸš€ <a class="header-anchor" href="#_1-é€‰æ‹©å¯åŠ¨æ–¹å¼-ğŸš€" aria-label="Permalink to &quot;1. é€‰æ‹©å¯åŠ¨æ–¹å¼ ğŸš€&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>ğŸš€ å¯åŠ¨é€‰æ‹©èœå•</span></span>
<span class="line"><span>==================================================</span></span>
<span class="line"><span>å®ä¾‹ç‰ˆæœ¬: 0.10.5</span></span>
<span class="line"><span>å®ä¾‹æ˜µç§°: æˆ‘çš„éº¦éº¦</span></span>
<span class="line"><span>Bot ç±»å‹: MaiBot</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[å¯ç”¨ç»„ä»¶]</span></span>
<span class="line"><span>  â€¢ é€‚é…å™¨: âœ… å¯ç”¨</span></span>
<span class="line"><span>  â€¢ NapCatQQ: âœ… å¯ç”¨</span></span>
<span class="line"><span>  â€¢ æ£€æŸ¥MongoDB: âŒ æœªé…ç½®</span></span>
<span class="line"><span>  â€¢ æ§åˆ¶é¢æ¿: âœ… å¯ç”¨</span></span>
<span class="line"><span>  â€¢ éº¦éº¦æœ¬ä½“: âœ… å¯ç”¨</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[é¢„è®¾å¯åŠ¨é¡¹]</span></span>
<span class="line"><span> [1] ä¸»ç¨‹åº+é€‚é…å™¨</span></span>
<span class="line"><span> [2] ä¸»ç¨‹åº+é€‚é…å™¨+NapCatQQ</span></span>
<span class="line"><span> [3] ä¸»ç¨‹åº+é€‚é…å™¨+æ£€æŸ¥MongoDB</span></span>
<span class="line"><span> [4] ä¸»ç¨‹åº+é€‚é…å™¨+NapCatQQ+æ£€æŸ¥MongoDB</span></span>
<span class="line"><span> [5] ä¸»ç¨‹åº+é€‚é…å™¨+æ§åˆ¶é¢æ¿</span></span>
<span class="line"><span> [6] ä¸»ç¨‹åº+é€‚é…å™¨+NapCat+æ§åˆ¶é¢æ¿</span></span>
<span class="line"><span></span></span>
<span class="line"><span> [H] é«˜çº§å¯åŠ¨é¡¹</span></span>
<span class="line"><span> [Q] è¿”å›</span></span></code></pre></div><h4 id="_2-é«˜çº§å¯åŠ¨é€‰é¡¹-ğŸ› ï¸" tabindex="-1">2. é«˜çº§å¯åŠ¨é€‰é¡¹ ğŸ› ï¸ <a class="header-anchor" href="#_2-é«˜çº§å¯åŠ¨é€‰é¡¹-ğŸ› ï¸" aria-label="Permalink to &quot;2. é«˜çº§å¯åŠ¨é€‰é¡¹ ğŸ› ï¸&quot;">â€‹</a></h4><p>é«˜çº§å¯åŠ¨æ”¯æŒ<mark>å¤šé€‰ç»„ä»¶</mark>ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>ğŸ› ï¸ é«˜çº§å¯åŠ¨é¡¹</span></span>
<span class="line"><span>==================================================</span></span>
<span class="line"><span>å¯å¤šé€‰ï¼Œè¯·ä½¿ç”¨è‹±æ–‡é€—å·&#39;,&#39;åˆ†éš”é€‰é¡¹ï¼ˆä¾‹å¦‚: 1,3ï¼‰</span></span>
<span class="line"><span></span></span>
<span class="line"><span> [1] ä¸»ç¨‹åº - âœ… å¯ç”¨</span></span>
<span class="line"><span> [2] é€‚é…å™¨ - âœ… å¯ç”¨</span></span>
<span class="line"><span> [3] NapCatQQ - âœ… å¯ç”¨</span></span>
<span class="line"><span> [4] æ£€æŸ¥MongoDB - âŒ æœªé…ç½®</span></span>
<span class="line"><span> [5] æ§åˆ¶é¢æ¿ - âœ… å¯ç”¨</span></span>
<span class="line"><span></span></span>
<span class="line"><span> [Q] è¿”å›</span></span>
<span class="line"><span></span></span>
<span class="line"><span>è¯·é€‰æ‹©è¦å¯åŠ¨çš„ç»„ä»¶: 1,2,5</span></span></code></pre></div><h3 id="å¯åŠ¨æµç¨‹è¯¦è§£-1" tabindex="-1">å¯åŠ¨æµç¨‹è¯¦è§£ <a class="header-anchor" href="#å¯åŠ¨æµç¨‹è¯¦è§£-1" aria-label="Permalink to &quot;å¯åŠ¨æµç¨‹è¯¦è§£&quot;">â€‹</a></h3><h4 id="_1-é…ç½®éªŒè¯-âœ…" tabindex="-1">1. é…ç½®éªŒè¯ âœ… <a class="header-anchor" href="#_1-é…ç½®éªŒè¯-âœ…" aria-label="Permalink to &quot;1. é…ç½®éªŒè¯ âœ…&quot;">â€‹</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> validate_configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, config: Dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any]) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;éªŒè¯é…ç½®çš„æœ‰æ•ˆæ€§ã€‚&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    errors </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # éªŒè¯Botè·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bot_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bot_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MaiBot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bot_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;MoFox_bot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        mai_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mofox_path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        mai_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mai_path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    valid, msg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> validate_path(mai_path, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">check_file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bot.py&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> valid:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        errors.append(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;éº¦éº¦æœ¬ä½“è·¯å¾„: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">msg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # éªŒè¯é€‚é…å™¨è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._components[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;adapter&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].is_enabled:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        adapter_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;adapter_path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        valid, msg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> validate_path(adapter_path, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">check_file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main.py&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> valid:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            errors.append(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;é€‚é…å™¨è·¯å¾„: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">msg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # éªŒè¯NapCatè·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._components[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;napcat&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].is_enabled:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        napcat_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;napcat_path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (napcat_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.path.exists(napcat_path) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> napcat_path.lower().endswith(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.exe&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            errors.append(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NapCatè·¯å¾„: æ— æ•ˆæˆ–æ–‡ä»¶ä¸å­˜åœ¨ã€‚&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> errors</span></span></code></pre></div><h4 id="_2-ç»„ä»¶å¯åŠ¨é¡ºåº-ğŸ“‹" tabindex="-1">2. ç»„ä»¶å¯åŠ¨é¡ºåº ğŸ“‹ <a class="header-anchor" href="#_2-ç»„ä»¶å¯åŠ¨é¡ºåº-ğŸ“‹" aria-label="Permalink to &quot;2. ç»„ä»¶å¯åŠ¨é¡ºåº ğŸ“‹&quot;">â€‹</a></h4><p><strong>æ ‡å‡†å¯åŠ¨é¡ºåº</strong>:</p><ol><li><strong>MongoDB</strong> (å¦‚æœå¯ç”¨) - æ•°æ®åº“æœåŠ¡</li><li><strong>NapCat</strong> - QQ åè®®ç«¯</li><li><strong>WebUI</strong> - ç½‘é¡µæ§åˆ¶é¢æ¿</li><li><strong>é€‚é…å™¨</strong> - Bot é€‚é…å™¨</li><li><strong>MaiBot/MoFox_bot</strong> - Bot ä¸»ç¨‹åº</li></ol><p><strong>å¯åŠ¨é€»è¾‘</strong>:</p><ul><li>MongoDB ä¼˜å…ˆå¯åŠ¨ï¼Œç¡®ä¿æ•°æ®åº“å¯ç”¨</li><li>NapCat åœ¨é€‚é…å™¨å‰å¯åŠ¨ï¼Œç¡®ä¿ QQ è¿æ¥å°±ç»ª</li><li>WebUI ç‹¬ç«‹å¯åŠ¨ï¼Œä¸ä¾èµ–å…¶ä»–ç»„ä»¶</li><li>é€‚é…å™¨è¿æ¥ Bot å’Œ NapCat</li><li>Bot ä¸»ç¨‹åºæœ€åå¯åŠ¨ï¼Œåè°ƒæ‰€æœ‰ç»„ä»¶</li></ul><h4 id="_3-å¯åŠ¨æˆåŠŸç¡®è®¤-âœ…" tabindex="-1">3. å¯åŠ¨æˆåŠŸç¡®è®¤ âœ… <a class="header-anchor" href="#_3-å¯åŠ¨æˆåŠŸç¡®è®¤-âœ…" aria-label="Permalink to &quot;3. å¯åŠ¨æˆåŠŸç¡®è®¤ âœ…&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>ğŸ‰ å¯åŠ¨æµç¨‹å®Œæˆï¼</span></span>
<span class="line"><span>==================================================</span></span>
<span class="line"><span>âœ… MongoDBæœåŠ¡å·²å¯åŠ¨</span></span>
<span class="line"><span>âœ… NapCatQQå·²å¯åŠ¨ (PID: 1234)</span></span>
<span class="line"><span>âœ… æ§åˆ¶é¢æ¿å·²å¯åŠ¨ (http://localhost:7999)</span></span>
<span class="line"><span>âœ… é€‚é…å™¨å·²å¯åŠ¨ (PID: 5678)</span></span>
<span class="line"><span>âœ… éº¦éº¦æœ¬ä½“å·²å¯åŠ¨ (PID: 9012)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ğŸŒ è®¿é—®åœ°å€:</span></span>
<span class="line"><span>   â€¢ Botä¸»ç¨‹åº: http://localhost:8000</span></span>
<span class="line"><span>   â€¢ æ§åˆ¶é¢æ¿: http://localhost:7999</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ğŸ“± è¿›ç¨‹ç›‘æ§:</span></span>
<span class="line"><span>   ä½¿ç”¨ [è¿›ç¨‹ç®¡ç†] åŠŸèƒ½æŸ¥çœ‹å®æ—¶çŠ¶æ€</span></span></code></pre></div><h2 id="ğŸ”§-é«˜çº§åŠŸèƒ½ä½¿ç”¨" tabindex="-1">ğŸ”§ é«˜çº§åŠŸèƒ½ä½¿ç”¨ <a class="header-anchor" href="#ğŸ”§-é«˜çº§åŠŸèƒ½ä½¿ç”¨" aria-label="Permalink to &quot;ğŸ”§ é«˜çº§åŠŸèƒ½ä½¿ç”¨&quot;">â€‹</a></h2><h3 id="è¿›ç¨‹ç®¡ç†åŠŸèƒ½" tabindex="-1">è¿›ç¨‹ç®¡ç†åŠŸèƒ½ <a class="header-anchor" href="#è¿›ç¨‹ç®¡ç†åŠŸèƒ½" aria-label="Permalink to &quot;è¿›ç¨‹ç®¡ç†åŠŸèƒ½&quot;">â€‹</a></h3><h4 id="_1-è¿›ç¨‹çŠ¶æ€ç›‘æ§-ğŸ“Š" tabindex="-1">1. è¿›ç¨‹çŠ¶æ€ç›‘æ§ ğŸ“Š <a class="header-anchor" href="#_1-è¿›ç¨‹çŠ¶æ€ç›‘æ§-ğŸ“Š" aria-label="Permalink to &quot;1. è¿›ç¨‹çŠ¶æ€ç›‘æ§ ğŸ“Š&quot;">â€‹</a></h4><p>ç¨‹åºæä¾›<mark>å®æ—¶è¿›ç¨‹ç›‘æ§</mark>ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å¯ç”¨å‘½ä»¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®</span></span>
<span class="line"><span>â”‚ stop &lt;PID&gt;       ç»ˆæ­¢æŒ‡å®šPIDçš„è¿›ç¨‹                                                                                   â”‚</span></span>
<span class="line"><span>â”‚ restart &lt;PID&gt;    é‡å¯æŒ‡å®šPIDçš„è¿›ç¨‹                                                                                   â”‚</span></span>
<span class="line"><span>â”‚ details &lt;PID&gt;    æŸ¥çœ‹æŒ‡å®šPIDçš„è¿›ç¨‹è¯¦æƒ…                                                                               â”‚</span></span>
<span class="line"><span>â”‚ stopall          ç»ˆæ­¢æ‰€æœ‰å—ç®¡è¿›ç¨‹                                                                                    â”‚</span></span>
<span class="line"><span>â”‚ q / quit         é€€å‡ºçŠ¶æ€ç›‘æ§                                                                                        â”‚</span></span>
<span class="line"><span>â”‚ Tabé”®            è¡¥å…¨æŒ‡ä»¤æˆ–PID                                                                                       â”‚</span></span>
<span class="line"><span>â”‚                                                                                                                      â”‚</span></span>
<span class="line"><span>â”‚                                                                                                                      â”‚</span></span>
<span class="line"><span>â”‚                                                                                                                      â”‚</span></span>
<span class="line"><span>â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯</span></span>
<span class="line"><span>                            [ğŸ“Š è¿›ç¨‹çŠ¶æ€ç®¡ç†]</span></span>
<span class="line"><span>â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“</span></span>
<span class="line"><span>â”ƒ PID      â”ƒ è¿›ç¨‹åç§°                â”ƒ CPU % â”ƒ å†…å­˜ (MB) â”ƒ è¿è¡Œæ—¶é—´ (s) â”ƒ</span></span>
<span class="line"><span>â”¡â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©</span></span>
<span class="line"><span>â”‚ 23936    â”‚ éº¦éº¦å¯åŠ¨å™¨ (ä¸»ç¨‹åº)     â”‚  7.70 â”‚     60.71 â”‚          218 â”‚</span></span>
<span class="line"><span>â”‚ 22420    â”‚ MaiBot æ§åˆ¶é¢æ¿ - main  â”‚  0.00 â”‚      7.45 â”‚           60 â”‚</span></span>
<span class="line"><span>â”‚ 25872    â”‚ maimai - é€‚é…å™¨ vmain   â”‚  0.00 â”‚      5.58 â”‚           60 â”‚</span></span>
<span class="line"><span>â”‚ 12332    â”‚ maimai - éº¦éº¦æœ¬ä½“ vmain â”‚  0.00 â”‚      5.59 â”‚           58 â”‚</span></span>
<span class="line"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è¾“å…¥å‘½ä»¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®</span></span>
<span class="line"><span>â”‚ &gt; _                                                                                                                  â”‚</span></span>
<span class="line"><span>â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯</span></span></code></pre></div><h4 id="_2-è¿›ç¨‹æ“ä½œ-âš¡" tabindex="-1">2. è¿›ç¨‹æ“ä½œ âš¡ <a class="header-anchor" href="#_2-è¿›ç¨‹æ“ä½œ-âš¡" aria-label="Permalink to &quot;2. è¿›ç¨‹æ“ä½œ âš¡&quot;">â€‹</a></h4><p><strong>é‡å¯è¿›ç¨‹<code>restart &lt;PID&gt;</code></strong>:</p><ul><li>åœæ­¢ç°æœ‰è¿›ç¨‹</li><li>ç­‰å¾…ç«¯å£é‡Šæ”¾</li><li>é‡æ–°å¯åŠ¨è¿›ç¨‹</li><li>ç¡®è®¤å¯åŠ¨çŠ¶æ€</li></ul><p><strong>åœæ­¢è¿›ç¨‹<code>stop &lt;PID&gt;</code> or <code>stopall</code></strong>:</p><ul><li>å‘é€ç»ˆæ­¢ä¿¡å·</li><li>å¼ºåˆ¶ç»“æŸè¿›ç¨‹æ ‘</li><li>æ¸…ç†è¿›ç¨‹ç¼“å­˜</li><li>æ›´æ–°çŠ¶æ€æ˜¾ç¤º</li></ul><p><strong>æŸ¥çœ‹è¯¦æƒ…<code>details &lt;PID&gt;</code></strong>:</p><ul><li>è¿›ç¨‹åŸºæœ¬ä¿¡æ¯</li><li>å†…å­˜ä½¿ç”¨æƒ…å†µ</li><li>å¯åŠ¨æ—¶é—´</li><li>å‘½ä»¤è¡Œå‚æ•°</li><li>å·¥ä½œç›®å½•</li></ul><h3 id="é…ç½®ç®¡ç†åŠŸèƒ½" tabindex="-1">é…ç½®ç®¡ç†åŠŸèƒ½ <a class="header-anchor" href="#é…ç½®ç®¡ç†åŠŸèƒ½" aria-label="Permalink to &quot;é…ç½®ç®¡ç†åŠŸèƒ½&quot;">â€‹</a></h3><h4 id="_1-é…ç½®é›†æ“ä½œ-ğŸ¯" tabindex="-1">1. é…ç½®é›†æ“ä½œ ğŸ¯ <a class="header-anchor" href="#_1-é…ç½®é›†æ“ä½œ-ğŸ¯" aria-label="Permalink to &quot;1. é…ç½®é›†æ“ä½œ ğŸ¯&quot;">â€‹</a></h4><p><strong>åˆ›å»ºé…ç½®é›†</strong>:</p><ul><li>è‡ªåŠ¨æ£€æµ‹ç°æœ‰ Bot</li><li>æ‰‹åŠ¨è¾“å…¥é…ç½®ä¿¡æ¯</li><li>éªŒè¯é…ç½®æœ‰æ•ˆæ€§</li><li>ä¿å­˜é…ç½®é›†</li></ul><p><strong>ç¼–è¾‘é…ç½®é›†</strong>:</p><ul><li>ä¿®æ”¹è·¯å¾„ä¿¡æ¯</li><li>è°ƒæ•´ç»„ä»¶é€‰é¡¹</li><li>æ›´æ–°åŸºæœ¬å‚æ•°</li><li>é‡æ–°éªŒè¯é…ç½®</li></ul><p><strong>é…ç½®é›†åˆ‡æ¢</strong>:</p><ul><li>åºåˆ—å·é€‰æ‹©</li><li>åˆ—è¡¨é€‰æ‹©</li><li>é»˜è®¤è®¾ç½®</li></ul><h4 id="_2-é…ç½®éªŒè¯ä¸ä¿®å¤-ğŸ”§" tabindex="-1">2. é…ç½®éªŒè¯ä¸ä¿®å¤ ğŸ”§ <a class="header-anchor" href="#_2-é…ç½®éªŒè¯ä¸ä¿®å¤-ğŸ”§" aria-label="Permalink to &quot;2. é…ç½®éªŒè¯ä¸ä¿®å¤ ğŸ”§&quot;">â€‹</a></h4><p>ç¨‹åºä¼šè‡ªåŠ¨æ£€æµ‹å’Œä¿®å¤é…ç½®é—®é¢˜ï¼š</p><ul><li><strong>è·¯å¾„éªŒè¯</strong>: æ£€æŸ¥æ‰€æœ‰è·¯å¾„æ˜¯å¦æœ‰æ•ˆ</li><li><strong>æ–‡ä»¶æ£€æŸ¥</strong>: ç¡®è®¤å¿…éœ€æ–‡ä»¶å­˜åœ¨</li><li><strong>ç‰ˆæœ¬å…¼å®¹</strong>: éªŒè¯ç‰ˆæœ¬ä¸ç»„ä»¶å…¼å®¹æ€§</li><li><strong>åºåˆ—å·ä¿®å¤</strong>: è‡ªåŠ¨ä¿®å¤é‡å¤æˆ–é”™è¯¯çš„åºåˆ—å·</li></ul><h3 id="å¤šå¼€å®ä¾‹é«˜çº§åŠŸèƒ½" tabindex="-1">å¤šå¼€å®ä¾‹é«˜çº§åŠŸèƒ½ <a class="header-anchor" href="#å¤šå¼€å®ä¾‹é«˜çº§åŠŸèƒ½" aria-label="Permalink to &quot;å¤šå¼€å®ä¾‹é«˜çº§åŠŸèƒ½&quot;">â€‹</a></h3><h4 id="_1-æ‰¹é‡æ“ä½œ-ğŸ“¦" tabindex="-1">1. æ‰¹é‡æ“ä½œ ğŸ“¦ <a class="header-anchor" href="#_1-æ‰¹é‡æ“ä½œ-ğŸ“¦" aria-label="Permalink to &quot;1. æ‰¹é‡æ“ä½œ ğŸ“¦&quot;">â€‹</a></h4><p><strong>æ‰¹é‡å¯åŠ¨</strong>:</p><ul><li>é€‰æ‹©å¤šä¸ªå®ä¾‹</li><li>ä¾æ¬¡å¯åŠ¨æ¯ä¸ªå®ä¾‹</li><li>æ˜¾ç¤ºå¯åŠ¨ç»“æœ</li><li>ç›‘æ§è¿è¡ŒçŠ¶æ€</li></ul><p><strong>æ‰¹é‡åœæ­¢</strong>:</p><ul><li>åœæ­¢æ‰€æœ‰è¿è¡Œå®ä¾‹</li><li>é‡Šæ”¾æ‰€æœ‰å ç”¨ç«¯å£</li><li>æ›´æ–°å®ä¾‹çŠ¶æ€</li></ul><p><strong>æ‰¹é‡åˆ é™¤</strong>:</p><ul><li>ç¡®è®¤åˆ é™¤æ“ä½œ</li><li>åœæ­¢è¿è¡Œä¸­çš„å®ä¾‹</li><li>åˆ é™¤å®ä¾‹é…ç½®</li><li>æ¸…ç†ç›¸å…³æ–‡ä»¶</li></ul><h4 id="_2-å®ä¾‹æ¨¡æ¿-ğŸ“‹" tabindex="-1">2. å®ä¾‹æ¨¡æ¿ ğŸ“‹ <a class="header-anchor" href="#_2-å®ä¾‹æ¨¡æ¿-ğŸ“‹" aria-label="Permalink to &quot;2. å®ä¾‹æ¨¡æ¿ ğŸ“‹&quot;">â€‹</a></h4><p>åˆ›å»ºå®ä¾‹æ¨¡æ¿ä»¥å¿«é€Ÿéƒ¨ç½²ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åŸºäºç°æœ‰å®ä¾‹åˆ›å»ºæ¨¡æ¿</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> create_instance_template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, instance_id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, template_name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;åˆ›å»ºå®ä¾‹æ¨¡æ¿&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    instance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.get_multi_instance(instance_id)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> instance:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    template </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: template_name,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;bot_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: instance[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bot_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;base_config_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: instance[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;base_config_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;install_options&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: instance.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;install_options&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {}),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;is_template&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ä¿å­˜æ¨¡æ¿</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    templates </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.config.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;instance_templates&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    templates[template_name] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> template</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.config.set(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;instance_templates&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, templates)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.config.save()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span></span></code></pre></div><h2 id="â“-æ•…éšœæ’é™¤" tabindex="-1">â“ æ•…éšœæ’é™¤ <a class="header-anchor" href="#â“-æ•…éšœæ’é™¤" aria-label="Permalink to &quot;â“ æ•…éšœæ’é™¤&quot;">â€‹</a></h2><h3 id="å¸¸è§å¯åŠ¨é—®é¢˜" tabindex="-1">å¸¸è§å¯åŠ¨é—®é¢˜ <a class="header-anchor" href="#å¸¸è§å¯åŠ¨é—®é¢˜" aria-label="Permalink to &quot;å¸¸è§å¯åŠ¨é—®é¢˜&quot;">â€‹</a></h3><h4 id="_1-é…ç½®éªŒè¯å¤±è´¥-âŒ" tabindex="-1">1. é…ç½®éªŒè¯å¤±è´¥ âŒ <a class="header-anchor" href="#_1-é…ç½®éªŒè¯å¤±è´¥-âŒ" aria-label="Permalink to &quot;1. é…ç½®éªŒè¯å¤±è´¥ âŒ&quot;">â€‹</a></h4><p><strong>é—®é¢˜</strong>: é…ç½®éªŒè¯æ˜¾ç¤ºé”™è¯¯</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>âŒ é…ç½®éªŒè¯å¤±è´¥ï¼š</span></span>
<span class="line"><span>  â€¢ éº¦éº¦æœ¬ä½“è·¯å¾„: è·¯å¾„ä¸å­˜åœ¨æˆ–ç¼ºå°‘bot.pyæ–‡ä»¶</span></span>
<span class="line"><span>  â€¢ é€‚é…å™¨è·¯å¾„: è·¯å¾„ä¸å­˜åœ¨æˆ–ç¼ºå°‘main.pyæ–‡ä»¶</span></span>
<span class="line"><span>  â€¢ NapCatè·¯å¾„: æ— æ•ˆæˆ–æ–‡ä»¶ä¸å­˜åœ¨</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>æ£€æŸ¥è·¯å¾„</strong>: ç¡®è®¤æ‰€æœ‰è·¯å¾„æ­£ç¡®ä¸”æ–‡ä»¶å­˜åœ¨</li><li><strong>é‡æ–°é…ç½®</strong>: ä½¿ç”¨é…ç½®ç®¡ç†åŠŸèƒ½æ›´æ–°è·¯å¾„</li><li><strong>é‡æ–°éƒ¨ç½²</strong>: å¦‚æœè·¯å¾„ç¡®å®æ”¹å˜ï¼Œé‡æ–°éƒ¨ç½²å®ä¾‹</li></ol><h4 id="_2-ç«¯å£å†²çª-ğŸš«" tabindex="-1">2. ç«¯å£å†²çª ğŸš« <a class="header-anchor" href="#_2-ç«¯å£å†²çª-ğŸš«" aria-label="Permalink to &quot;2. ç«¯å£å†²çª ğŸš«&quot;">â€‹</a></h4><p><strong>é—®é¢˜</strong>: ç«¯å£è¢«å ç”¨</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>âŒ ç«¯å£ 8000 å·²è¢«å ç”¨</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>æ£€æŸ¥å ç”¨è¿›ç¨‹</strong>: ä½¿ç”¨ <code>netstat -ano | findstr :8000</code></li><li><strong>åœæ­¢å†²çªè¿›ç¨‹</strong>: ç»“æŸå ç”¨ç«¯å£çš„è¿›ç¨‹</li><li><strong>ä½¿ç”¨å¤šå¼€åŠŸèƒ½</strong>: åˆ›å»ºæ–°å®ä¾‹è‡ªåŠ¨åˆ†é…å…¶ä»–ç«¯å£</li></ol><h4 id="_3-ç»„ä»¶å¯åŠ¨å¤±è´¥-âš ï¸" tabindex="-1">3. ç»„ä»¶å¯åŠ¨å¤±è´¥ âš ï¸ <a class="header-anchor" href="#_3-ç»„ä»¶å¯åŠ¨å¤±è´¥-âš ï¸" aria-label="Permalink to &quot;3. ç»„ä»¶å¯åŠ¨å¤±è´¥ âš ï¸&quot;">â€‹</a></h4><p><strong>é—®é¢˜</strong>: æŸä¸ªç»„ä»¶å¯åŠ¨å¤±è´¥</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>âš ï¸ é€‚é…å™¨å¯åŠ¨å¤±è´¥</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>æ£€æŸ¥ä¾èµ–</strong>: ç¡®è®¤ Python ç¯å¢ƒå’Œä¾èµ–åŒ…</li><li><strong>æ£€æŸ¥é…ç½®</strong>: éªŒè¯é…ç½®æ–‡ä»¶æ­£ç¡®æ€§</li><li><strong>æŸ¥çœ‹æ—¥å¿—</strong>: æ£€æŸ¥ç»„ä»¶æ—¥å¿—æ–‡ä»¶</li><li><strong>é‡æ–°å®‰è£…</strong>: å¿…è¦æ—¶é‡æ–°å®‰è£…ç»„ä»¶</li></ol><h4 id="_4-è¿›ç¨‹ç®¡ç†é—®é¢˜-ğŸ”„" tabindex="-1">4. è¿›ç¨‹ç®¡ç†é—®é¢˜ ğŸ”„ <a class="header-anchor" href="#_4-è¿›ç¨‹ç®¡ç†é—®é¢˜-ğŸ”„" aria-label="Permalink to &quot;4. è¿›ç¨‹ç®¡ç†é—®é¢˜ ğŸ”„&quot;">â€‹</a></h4><p><strong>é—®é¢˜</strong>: è¿›ç¨‹æ— æ³•åœæ­¢</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>âŒ åœæ­¢è¿›ç¨‹å¤±è´¥</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨</strong>: æ‰‹åŠ¨ç»“æŸè¿›ç¨‹</li><li><strong>é‡å¯ç¨‹åº</strong>: é‡å¯ MaiCore Start</li><li><strong>å¼ºåˆ¶ç»ˆæ­¢</strong>: ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨å¼ºåˆ¶ç»“æŸ</li></ol><h3 id="é«˜çº§æ•…éšœæ’é™¤" tabindex="-1">é«˜çº§æ•…éšœæ’é™¤ <a class="header-anchor" href="#é«˜çº§æ•…éšœæ’é™¤" aria-label="Permalink to &quot;é«˜çº§æ•…éšœæ’é™¤&quot;">â€‹</a></h3><h4 id="_1-é…ç½®æ–‡ä»¶æŸå-ğŸ—‚ï¸" tabindex="-1">1. é…ç½®æ–‡ä»¶æŸå ğŸ—‚ï¸ <a class="header-anchor" href="#_1-é…ç½®æ–‡ä»¶æŸå-ğŸ—‚ï¸" aria-label="Permalink to &quot;1. é…ç½®æ–‡ä»¶æŸå ğŸ—‚ï¸&quot;">â€‹</a></h4><p><strong>æ£€æµ‹</strong>: ç¨‹åºå¯åŠ¨æ—¶æç¤ºé…ç½®æŸå</p><p><strong>ä¿®å¤</strong>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç¨‹åºä¼šè‡ªåŠ¨ä¿®å¤æŸåçš„é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _validate_and_repair_serials</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;éªŒè¯å¹¶ä¿®å¤ç»å¯¹åºåˆ—å·&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    repaired </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # é‡æ–°åˆ†é…åºåˆ—å·</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i, (name, config) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> enumerate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config_items):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.config[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;configurations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][name][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;absolute_serial_number&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> repaired</span></span></code></pre></div><h4 id="_2-ç«¯å£ç®¡ç†å™¨å¼‚å¸¸-ğŸ”Œ" tabindex="-1">2. ç«¯å£ç®¡ç†å™¨å¼‚å¸¸ ğŸ”Œ <a class="header-anchor" href="#_2-ç«¯å£ç®¡ç†å™¨å¼‚å¸¸-ğŸ”Œ" aria-label="Permalink to &quot;2. ç«¯å£ç®¡ç†å™¨å¼‚å¸¸ ğŸ”Œ&quot;">â€‹</a></h4><p><strong>æ£€æµ‹</strong>: ç«¯å£åˆ†é…å¤±è´¥</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>é‡å¯ç«¯å£ç®¡ç†å™¨</strong>: é‡å¯ç¨‹åºé‡ç½®ç«¯å£çŠ¶æ€</li><li><strong>æ‰‹åŠ¨é‡Šæ”¾ç«¯å£</strong>: ç»“æŸå ç”¨ç«¯å£çš„è¿›ç¨‹</li><li><strong>æ‰©å±•ç«¯å£èŒƒå›´</strong>: ä¿®æ”¹ç«¯å£èŒƒå›´é…ç½®</li></ol><h4 id="_3-å¤šå¼€å®ä¾‹å†²çª-ğŸ”€" tabindex="-1">3. å¤šå¼€å®ä¾‹å†²çª ğŸ”€ <a class="header-anchor" href="#_3-å¤šå¼€å®ä¾‹å†²çª-ğŸ”€" aria-label="Permalink to &quot;3. å¤šå¼€å®ä¾‹å†²çª ğŸ”€&quot;">â€‹</a></h4><p><strong>æ£€æµ‹</strong>: å¤šå¼€å®ä¾‹æ— æ³•å¯åŠ¨</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><strong>æ£€æŸ¥ç«¯å£åˆ†é…</strong>: ç¡®è®¤ç«¯å£åˆ†é…æ­£ç¡®</li><li><strong>éªŒè¯é…ç½®ç»§æ‰¿</strong>: æ£€æŸ¥åŸºç¡€é…ç½®æ˜¯å¦æœ‰æ•ˆ</li><li><strong>æ¸…ç†å®ä¾‹çŠ¶æ€</strong>: åˆ é™¤å¹¶é‡æ–°åˆ›å»ºå®ä¾‹</li></ol><h2 id="ğŸ“-è·å–å¸®åŠ©" tabindex="-1">ğŸ“ è·å–å¸®åŠ© <a class="header-anchor" href="#ğŸ“-è·å–å¸®åŠ©" aria-label="Permalink to &quot;ğŸ“ è·å–å¸®åŠ©&quot;">â€‹</a></h2><h3 id="å®˜æ–¹èµ„æº" tabindex="-1">å®˜æ–¹èµ„æº <a class="header-anchor" href="#å®˜æ–¹èµ„æº" aria-label="Permalink to &quot;å®˜æ–¹èµ„æº&quot;">â€‹</a></h3>`,168)),n(h,{title:"MaiBot Docs",link:"https://docs.mai-mai.org"},{default:l(()=>[...s[8]||(s[8]=[a(" MaiBot å®˜æ–¹æ–‡æ¡£ä¸­å¿ƒ ",-1)])]),_:1}),n(h,{title:"MoFox_bot Docs",link:"https://docs.mofox-sama.com/"},{default:l(()=>[...s[9]||(s[9]=[a(" MoFox_bot å®˜æ–¹æ–‡æ¡£ä¸­å¿ƒ ",-1)])]),_:1}),s[20]||(s[20]=e('<h3 id="ç¤¾åŒºæ”¯æŒ" tabindex="-1">ç¤¾åŒºæ”¯æŒ <a class="header-anchor" href="#ç¤¾åŒºæ”¯æŒ" aria-label="Permalink to &quot;ç¤¾åŒºæ”¯æŒ&quot;">â€‹</a></h3><ul><li><strong>QQæŠ€æœ¯ç¾¤</strong>: æœç´¢ç›¸å…³æŠ€æœ¯äº¤æµç¾¤</li><li><strong>è®ºå›è®¨è®º</strong>: å‚ä¸æŠ€æœ¯è®¨è®ºå’Œç»éªŒåˆ†äº«</li><li><strong>åœ¨çº¿æ–‡æ¡£</strong>: æŸ¥çœ‹è¯¦ç»†çš„åœ¨çº¿æ–‡æ¡£</li></ul><h3 id="é—®é¢˜åé¦ˆ" tabindex="-1">é—®é¢˜åé¦ˆ <a class="header-anchor" href="#é—®é¢˜åé¦ˆ" aria-label="Permalink to &quot;é—®é¢˜åé¦ˆ&quot;">â€‹</a></h3><p>å¦‚æœæ‚¨é‡åˆ°å¯åŠ¨é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š</p><ul><li><strong>é”™è¯¯ä¿¡æ¯</strong>: å®Œæ•´çš„é”™è¯¯æç¤º</li><li><strong>ç³»ç»Ÿç¯å¢ƒ</strong>: Windowsç‰ˆæœ¬ã€Pythonç‰ˆæœ¬ç­‰</li><li><strong>æ“ä½œæ­¥éª¤</strong>: è¯¦ç»†çš„æ“ä½œè¿‡ç¨‹</li><li><strong>æ—¥å¿—æ–‡ä»¶</strong>: ç›¸å…³çš„æ—¥å¿—å†…å®¹</li></ul><h2 id="ğŸ“„-æ›´æ–°æ—¥å¿—" tabindex="-1">ğŸ“„ æ›´æ–°æ—¥å¿— <a class="header-anchor" href="#ğŸ“„-æ›´æ–°æ—¥å¿—" aria-label="Permalink to &quot;ğŸ“„ æ›´æ–°æ—¥å¿—&quot;">â€‹</a></h2><h3 id="v4-1-2-beta" tabindex="-1">v4.1.2-beta <a class="header-anchor" href="#v4-1-2-beta" aria-label="Permalink to &quot;v4.1.2-beta&quot;">â€‹</a></h3><ul><li>âœ¨ å…¨æ–°å¯åŠ¨ç³»ç»Ÿ</li><li>ğŸ”§ ä¼˜åŒ–é…ç½®é›†æœºåˆ¶</li><li>ğŸ“Š å¢å¼ºè¿›ç¨‹ç›‘æ§</li><li>ğŸ”€ å®Œå–„å¤šå¼€åŠŸèƒ½</li><li>ğŸ› ä¿®å¤å·²çŸ¥é—®é¢˜</li></ul><h3 id="v4-1-1" tabindex="-1">v4.1.1 <a class="header-anchor" href="#v4-1-1" aria-label="Permalink to &quot;v4.1.1&quot;">â€‹</a></h3><ul><li>ğŸš€ æå‡å¯åŠ¨é€Ÿåº¦</li><li>ğŸ’¾ æ”¹è¿›é…ç½®ç®¡ç†</li><li>ğŸ”’ å¢å¼ºç¨³å®šæ€§</li></ul><hr><p><strong>æ„Ÿè°¢ä½¿ç”¨ MaiCore Start å¯åŠ¨ç³»ç»Ÿï¼</strong></p><p>é€šè¿‡é…ç½®é›†æœºåˆ¶ã€è¿›ç¨‹ç›‘æ§æœºåˆ¶å’Œå®ä¾‹å¤šå¼€æœºåˆ¶ï¼Œç¨‹åºä¸ºç”¨æˆ·æä¾›äº†å¼ºå¤§è€Œçµæ´»çš„ Bot ç®¡ç†ä½“éªŒã€‚å¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªå¯åŠ¨ç³»ç»Ÿæœ‰å¸®åŠ©ï¼Œè¯·ç»™é¡¹ç›®ç‚¹ä¸ªæ˜Ÿâ­ï¼</p>',13)),i("h2",u,[n(t,{href:"#ğŸ“‹-ç›®å½•"},{default:l(()=>[...s[10]||(s[10]=[a("TOP",-1)])]),_:1}),s[11]||(s[11]=a()),s[12]||(s[12]=i("a",{class:"header-anchor",href:"#top","aria-label":'Permalink to "[TOP](#ğŸ“‹-ç›®å½•)"'},"â€‹",-1))]),n(o)])}const D=d(F,[["render",C]]);export{A as __pageData,D as default};
